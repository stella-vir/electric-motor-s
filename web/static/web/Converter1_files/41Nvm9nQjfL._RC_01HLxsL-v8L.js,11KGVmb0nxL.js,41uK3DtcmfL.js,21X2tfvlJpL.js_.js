(function(g){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,u=n?n("CustomerReviewsCommonAssets",""):m;u.guardFatal?u.guardFatal(g)(u,window):u.execute(function(){g(u,window)})})(function(g,m,n){function u(){}g.when("A","cr-log-utils","cr-streaming-utils").register("cr-ajax-model",function(b,d,c){function a(a){k[a]&&(k[a].abort(),delete k[a])}function e(l,f,q,r,v,t,g,n){f=f||{};f.params=f.params||{};t=t?t:p++;v=v?v:f.error||function(){};r=r?r:0;q=q?q:2;n=n?n:"FATAL";var u=
"FATAL"===n?0:1,w=f.finallyCallback||function(){};g||(g="reviewsAjax"+h++,m.uet&&m.uet("tc",g));f.params.scope=g;f.contentType=f.contentType||"application/x-www-form-urlencoded;charset\x3dUTF-8";var x=f.success||function(){};f.success=function(a){delete k[t];"function"===typeof x&&x(a);"function"===typeof w&&w(a)};f.error=function(h,b,c){h=h||{};var k=(h.http||{}).status||"[]";if(401===k){var p;p=h;var x=v,y=p.http.getResponseHeader("x-amz-re-authentication-url");y?("function"===typeof x&&x(p),"function"===
typeof w&&w(p),d.logCount("AjaxRedirectToReAuthenticationUrl",1),m.location=y,p=!0):p=!1;if(p)return;r=q}a(t);r++;r<q?(b="AJAX Post to "+l+" from "+m.location.href+" failed, status code passed through parameter was: "+b+", status code extracted from XHR HTTP object was: "+k+", attempt "+r+" of "+q+", error message was: \n "+c,d.logError(b,"WARN"),e(l,f,q,r,v,t,g,n)):(b="AJAX Post to "+l+" from "+m.location.href+" failed, status code passed through parameter was: "+b+", status code extracted from XHR HTTP object was: "+
k+", exhausted "+q+" attempt(s), error message was: \n "+c,d.logError(b,n),d.logCount("AjaxFailureFatal",u),"function"===typeof v&&v(h),"function"===typeof w&&w(h))};"function"!==typeof f.chunk&&(f.chunk=function(a){"appendFadeIn"===a[0]?c.appendFadeIn(a):"replace"===a[0]&&c.replace(a)});k[t]=b.post(l,f);return t}var h=0,p=1,k={};return{abort:a,post:e,postWithoutFatals:function(a,h,b,c,d,k,p){return e(a,h,b,c,d,k,p,"WARN")}}});"use strict";g.when("A","cr-jQuery","cr-log-utils","cr-number-utils").register("cr-A",
function(b,d,c,a){b.getListFromState=function(a){var c=b.map(d("#cr-state-object, .cr-state-object"),function(a){return d(a).data("state")});return b.reduce(c,function(b,c){c!==n&&c[a]!==n&&b.push(c[a]);return b},[])};b.getValueFromState=function(a){var e=b.getListFromState(a);1<e.length&&c.logError("More than one  value defined for key: "+a,"ERROR");return e[0]};var e={top:-100,left:-100};b.inView=function(a){a=a||d();if("function"===typeof a.offset){var b=(a.offset()||e).top-d(m).scrollTop();a=
0<=b;b=b<d(m).height();return a&&b}return!1};b.onScreenAndVisible=function(b,c){b=b||d();c=a.isFiniteNumber(c)?c:0;if(b instanceof d||b.jquery){if(!b.is(":visible"))return!1;b=b[0].getBoundingClientRect();return b.top>=0-c&&b.left>=0-c&&b.bottom<=d(m).height()+c&&b.right<=d(m).width()+c}return!1};b.compositeEventWrapper=function(a,e,d){var l=a;d&&(l=b.throttle(l,d,{trailing:!1}));return c.jsGuard(function(a){a&&(l(a),e&&a.$event&&a.$event.preventDefault())})};b.freeze=function(a){return"undefined"!==
typeof Object&&"function"===typeof Object.freeze?Object.freeze(a):a};b.isFrozen=function(a){return"undefined"!==typeof Object&&"function"===typeof Object.isFrozen?Object.isFrozen(a):!1};return b});"use strict";g.when("jQuery").register("cr-jQuery",function(b){return b});"use strict";g.declare("reviews-constants",{PUSH_STATE:!0,REPLACE_STATE:!1,RATING_SERVICE_CONTEXT_ID:"ReviewsConsumption",data:{REFTAG:"data-reftag",CSM_COUNTER:"data-csm-counter",getReviews:{STANDARD:"data-reviews-state-param",CHECKED:"data-reviews-param-checked",
UNCHECKED:"data-reviews-param-unchecked"}},events:{CONTENT_CHANGED:"reviews:content-changed",RELOAD:"reviews:content-reload",RELOAD_COMPLETE:"reviews:content-reload-complete",AUTOSCROLL_COMPLETE:"reviews:autoscroll-complete",FILTER_FIRE_AGGREGATE:"reviews:filter-action:aggregate:trigger",FILTER_FIRE_UPDATE:"reviews:filter-action:trigger",FILTER_AGGREGATE:"reviews:filter-action:aggregate",FILTER_PUSH:"reviews:filter-action:push-state",FILTER_REPLACE:"reviews:filter-action:replace-state",PAGINATION:"reviews:page-action",
SEARCH_TEXTBOX:"reviews:search-textbox",SEARCH_BUTTON:"reviews:search-button",VOTE:"reviews:vote-action",TOGGLE_CLASS_CLICK:"reviews:toggle-class:click",AJAX_POST:"reviews:ajax-post",SCROLL_TO_ELEMENT_CLICK:"reviews:scroll-to-element:click",OPEN_MASH_MODAL:"reviews:open-mash-modal",FILTER_APPLY:"reviews:filter-action:apply",FILTER_CHANGE:"reviews:filter-action:change",FILTER_TAB_CLICKED:"reviews:filter-action:tab-clicked",FILTER_APPLY_BEGIN:"reviews:filter-action:apply-begin",FILTER_APPLY_SUCCESS:"reviews:filter-action:apply-success",
FILTER_APPLY_ERROR:"reviews:filter-action:apply-error",FILTER_APPLY_DONE:"reviews:filter-action:apply-done",INPUT_COMMENT:"reviews:input-comment",SUBMIT_COMMENT:"reviews:submit-comment",OPEN_SUBMISSION_COMMENT:"reviews:open-comment-submission",SORT_COMMENTS:"reviews:sort-comments",MORE_COMMENTS:"reviews:more-comments",EDIT_COMMENT:"reviews:edit-comment",CANCEL_EDIT_COMMENT:"reviews:cancel-edit-comment",DELETE_COMMENT:"reviews:delete-comment",SUBMIT_EDIT_COMMENT:"reviews:submit-edit-comment",MODIFY_EDIT_COMMENT:"reviews:modify-edit-comment",
INPUT_PRODUCT_LINK:"reviews:input-product-link",SELECT_PRODUCT_LINK:"reviews:select-product-link",STAR_RATING_CLICK:"ryp:star-rating-click",STAR_RATING_CLEAR:"ryp:star-rating-clear-click",TRIGGER_WEBLAB:"reviews:trigger-weblab",REFTAG_TRIGGER:"reviews:trigger-reftag"},filterOptions:{SORT_KEY:"sortBy",HELPFUL:"helpful",RECENT:"recent",LEGACY_HELPFUL:"byRankDescending",LEGACY_RECENT:"bySubmissionDateDescending",MOBILE_HELPFUL:"sh",MOBILE_RECENT:"sd",STAR_KEY:"filterByStar",ALL_STARS:"all_stars",ONE_STAR:"one_star",
TWO_STAR:"two_star",THREE_STAR:"three_star",FOUR_STAR:"four_star",FIVE_STAR:"five_star",POSTIVE:"positive",CRITICAL:"critical",FORMAT_KEY:"formatType",ALL_FORMATS:"all_formats",CURRENT_FORMAT:"current_format",AVP_KEY:"reviewerType",ALL_REVIEWS:"all_reviews",AVP_ONLY:"avp_only_reviews",MEDIA_KEY:"mediaType",ALL_CONTENTS:"all_contents",MEDIA_ONLY:"media_reviews_only",LANGUAGE_KEY:"filterByLanguage",HEIGHT_KEY:"filterByHeight",WEIGHT_KEY:"filterByWeight"},keycodes:{ENTER:13,BACK_SPACE:8,SPACE:32},aui:{HIDDEN:"aok-hidden",
NOWRAP:"aok-nowrap"}});"use strict";g.when("A","cr-string-utils","cr-log-utils").register("cr-popup",function(b,d,c){function a(a){var h={};a&&a.data&&(h=a.data);var p=d.defaultIfBlank(h.url,a.$target.find("a").andSelf().filter("a").attr("href")),k=d.defaultIfBlank(h.title,"CustomerReviews"),k=""+k,l="";b.each({width:"500",height:"500",resizable:"1",scrollbars:"1",toolbar:"0",status:"1"},function(a,b){a=d.defaultIfBlank(h[b],a);l+=b+"\x3d"+a+","});var l=l.slice(0,-1),f=null;try{(f=m.open(p,k,l))?
f.focus():c.logError("Unable to move focus to popup window with data: "+d.stringify(h),"ERROR"),a.$event.preventDefault()}catch(q){c.logError("Unable to open window with parameters: "+d.stringify(h),"FATAL",q)}return f}b.declarative("cr-popup",["click"],c.jsGuard(a));return{popup:a}});"use strict";g.when("A","cr-jQuery","reviews-constants","cr-ajax-model","cr-string-utils","cr-global-view").register("cr-generic-declarative-actions",function(b,d,c,a,e,h){function p(a){f(a)&&a.data.selector&&a.data.cssClass&&
(d(a.data.selector).toggleClass(a.data.cssClass),a.$event.preventDefault(),b.trigger("a:pageUpdate"))}function k(a){f(a)&&a.data.scrollToSelector&&(h.scrollTo(a.data.scrollToSelector,0),a.$event.preventDefault())}function l(c){if(f(c)&&c.data.url&&c.data.params){c.$event.preventDefault();b.declarative.remove(c.$currentTarget,r.AJAX_POST);c=c.data;var e=c.params,h=d(c.indicatorSelector)[0],k=q(d.fn.hide,c.hideOnSuccessSelector),l=q(d.fn.show,c.showOnFailureSelector);d(c.removeOnLoadSelector).remove();
a.post(c.url,{params:e,indicator:h,success:k,error:l})}}function f(a){return a&&a.data&&a.$event&&"function"===typeof a.$event.preventDefault}function q(a,b){if(b&&"function"===typeof a)return function(){var c=d(b);0<c.length&&a.call(c)}}var r=c.events;b.declarative(r.TOGGLE_CLASS_CLICK,"click",p);b.declarative(r.SCROLL_TO_ELEMENT_CLICK,"click",k);b.declarative(r.AJAX_POST,"click",l);return{toggleCssClass:p,scrollToElement:k,ajaxPost:l}});"use strict";g.register("cr-global-model",function(){return{generateUrl:function(b,
d){b&&"/"!==b.charAt(b.length-1)&&(b+="/");b&&d&&(b=b+"ref\x3d"+d);return b}}});"use strict";g.when("A","a-expander","cr-jQuery","reviews-constants","cr-string-utils").register("cr-global-view",function(b,d,c,a,e){function h(a){var b="";if(a&&a.closest!==n){var c=a.closest("*["+f.REFTAG+"]");c&&(b=c.attr(f.REFTAG))}e.isBlank(b)&&a&&a.closest!==n&&(a=a.closest("*[rel]"))&&(b=a.attr("rel"));return e.defaultIfBlank(b,"cm_cr_unknown")}function p(a){return a&&"function"===typeof a.is?a.is("*["+f.getReviews.CHECKED+
"]")&&a.is("*["+f.getReviews.UNCHECKED+"]"):!1}function k(a){return a&&a.has!==n&&a.is!==n?0<a.find(":checked").length||a.is(":checked"):!1}function l(a,b){return a&&a.attr!==n&&b?e.parseJSON(a.attr(b))||{}:{}}var f=a.data;b.on("a:pageUpdate",function(){d!==n&&d.initializeExpanders()});b.on(a.events.RELOAD_COMPLETE,function(){b.trigger("a:image:lazyLoad")});return{getReviewsStateParamsFromElement:function(a){var c=b.reduce(f.getReviews,function(a,b){return a+"*["+b+"],"},"").slice(0,-1),e;c&&a&&a.closest!==
n&&(e=a.closest(c));return p(e)?k(e)?l(e,f.getReviews.CHECKED):l(e,f.getReviews.UNCHECKED):l(e,f.getReviews.STANDARD)},getReftag:function(a){var b;a&&a.$target&&(b=a.$target);a&&a.id&&(b=c("#"+a.id));a&&a.expander&&a.expander.$expander&&(b=a.expander.$expander);b=h(b);"cm_cr_unknown"===b&&a&&a.data&&a.data.reftag&&(b=a.data.reftag);return b},getReftagByDom:h,scrollTo:function(a,b){a=c(a).offset();b=b||0;var e=c("#cr-state-object").data("state"),e=e!==n&&e.disableScroll;a&&a.top!==n&&!e&&(c("html,body").stop(),
c("html,body").animate({scrollTop:a.top-b},{queue:!1,duration:500}))}}});"use strict";g.when("cr-A","cr-jQuery","cr-lazy-widget-model","cr-lazy-widget-view","cr-log-utils","cr-number-utils","cr-string-utils","cr-uri-utils","ready").register("cr-lazy-widget-controller",function(b,d,c,a,e,h,p,k){function l(d){var f=b.getValueFromState("lazyWidgetDomainWhitelist"),h=k.getCurrentHostname();if(f)b:{for(var l=0;l<f.length;l++)if(p.endsWith(h,f[l])){e.logCount("LazyWidgetInvalidDomain",0);break b}e.logError("AJAX triggered from invalid domain: "+
h,"WARN");e.logCount("LazyWidgetInvalidDomain",1)}else e.logCount("LazyWidgetInvalidDomain",1),e.logError("AJAX triggered with null whitelist from domain: "+h,"WARN");c.loadLazyWidgets(a.getLazyWidgetStubs())&&(e.logCount("LazyWidgetTrigger",1),e.logCount("LazyWidgetTrigger:"+d,1))}var f={};f.bufferPixels=h.convertToInteger(b.getValueFromState("lazyWidgetLoaderBufferPixels"),1E3);f.delayBeforeTriggering=h.convertToInteger(b.getValueFromState("lazyWidgetLoaderDelayBeforeTriggering"),5E3);f.triggerLazyLoadIfWidgetWithinBuffer=
function(e){c.lazyLoadHasTriggered()||a.getLazyWidgetStubs().each(function(a,c){if(b.onScreen(d(c),f.bufferPixels))return l("scroll"),b.off("scroll",f.triggerLazyLoadIfWidgetWithinBuffer),!1})};var q={};f.logVisibleStubMetrics=function(c){a.getLazyWidgetStubs().each(function(a,c){a=d(c);c=a.data("widget-name");!q[c]&&b.onScreen(a)&&(e.logCount("VisibleLazyWidgetStub",1),e.logCount("VisibleLazyWidgetStub:"+c,1),q[c]=!0)})};b.on("scroll",f.logVisibleStubMetrics);b.on("scroll",f.triggerLazyLoadIfWidgetWithinBuffer);
d(a.getHoverTargets()).mouseenter(function(){l("hover")});e.logCount("LazyWidgetTrigger",0);return b.freeze(f)});"use strict";g.when("cr-A","cr-ajax-model","cr-uri-utils","ready").register("cr-lazy-widget-model",function(b,d,c){var a={},e=b.getValueFromState("lazyWidgetLoaderUrl"),h=!1;a.loadLazyWidgets=function(a){if(!h&&0<a.length){h=!0;var k=b.getValueFromState("asin"),l=b.getValueFromState("lazyWidgetCsrfToken"),f=b.getValueFromState("languageOfPreference");a=b.reduce(a,function(a,c){return a+
"\x26lazyWidget\x3d"+b.$(c).data("widget-name")},e+"?asin\x3d"+k+"\x26csrf\x3d"+l+"\x26language\x3d"+f);d.postWithoutFatals(a,{success:u,cache:!1,headers:{"cache-control":"no-cache"},params:c.getUrlParametersMap()||{}});return!0}return!1};a.lazyLoadHasTriggered=function(){return h};return b.freeze(a)});"use strict";g.when("cr-A","cr-jQuery","ready").register("cr-lazy-widget-view",function(b,d){var c={},a=b.getValueFromState("lazyWidgetLoaderHoverTargetsSelector")||"";c.getLazyWidgetStubs=function(){return d(".cr-lazy-widget")};
c.getHoverTargets=function(){d(a)};return b.freeze(c)});"use strict";g.when("A").register("cr-log-utils",function(b){function d(a,b,c){m.ueLogError&&("string"!==typeof b&&(b="FATAL"),c?m.ueLogError(c,{message:a,logLevel:b.toUpperCase(),attribution:"CustomerReviewsJS"}):m.ueLogError({message:a},{logLevel:b.toUpperCase(),attribution:"CustomerReviewsJS"}))}function c(a,b){return"string"===typeof b?b+a:"CustomerReviews:"+a}return{logError:d,jsGuard:function(a){if("function"===typeof a)return function(){try{return a.apply(this,
arguments)}catch(b){d("Uncaught Error in function","FATAL",b)}};d("Unable to wrap non-function","ERROR");return a},incrementCount:function(a,b){m.ue&&(a=c(a,b),b=m.ue.count(a)||0,m.ue.count(a,b+1))},logCount:function(a,b,d){m.ue&&(a=c(a,d),m.ue.count(a,b))}}});"use strict";g.when("A","reviews-constants").register("cr-mash-utils",function(b,d){function c(a){g.when("mash").execute(function(b){b.navstack.begin().modalOpen(a).end()})}var a=!1;g.when("mash").execute(function(){a=!0});b.declarative(d.events.OPEN_MASH_MODAL,
"click",function(a){c(a.data.url);a.$event.preventDefault()});return{isMash:function(){return a},openModal:c}});"use strict";g.when("A","cr-log-utils").register("cr-number-utils",function(b,d){return{convertToInteger:function(b,a){if(b===parseInt(b,10))return b;if(null!==b&&b!==n&&""!==b)return parseInt(b.replace(/[^0-9]/g,""),10);if(a!==n)return a;d.logError("convertToInteger","Cannot convert "+b+" to Integer");return 0},isFiniteNumber:function(b){return"number"===typeof b&&!isNaN(b)&&isFinite(b)}}});
"use strict";g.when("cr-A","reviews-constants","cr-ajax-model","cr-global-model").register("cr-reftag-utils",function(b,d,c,a){function e(a){c.postWithoutFatals(a)}b.declarative(d.events.REFTAG_TRIGGER,"click",function(a){a.data.refMarker&&a.data.reftagTriggerUrl&&e(a.data.reftagTriggerUrl+"/ref\x3d"+a.data.refMarker)});return{triggerRefTagWithUrl:e,triggerRefTag:function(c){var d=b.getValueFromState("reftagTriggerUrl");d&&c&&e(a.generateUrl(d,c))}}});"use strict";g.when("A","cr-jQuery").register("cr-streaming-utils",
function(b,d){return{appendFadeIn:function(c){if(null!==c&&2<c.length&&null!==c[1]&&null!==c[2]){var a=c[1];c=d(c[2]).hide();d(a).append(c);b.fadeIn(c,500,"ease-in-out",function(){})}},replace:function(b){if(null!==b&&2<b.length&&null!==b[1]&&null!==b[2]){var a=b[2];d(b[1]).replaceWith(d(a))}}}});"use strict";g.when("A","cr-log-utils").register("cr-string-utils",function(b,d){function c(a){return null===a||a===n?!0:0===b.trim(a).length}return{defaultIfBlank:function(a,b){return c(a)?b:a},isBlank:c,
parseJSON:function(a){try{return b.parseJSON(a)}catch(c){d.logError("Unable to parse JSON object","ERROR",c)}return null},startsWith:function(a,b){return a===b?!0:null===a||null===b?!1:0===a.indexOf(b)},endsWith:function(a,b){if(a===b)return!0;if(null===a||null===b)return!1;var c=a.lastIndexOf(b);return-1!==c&&c===a.length-b.length},stringify:function(a){return m.JSON&&m.JSON.stringify?m.JSON.stringify(a):a}}});"use strict";g.when("A").register("cr-uri-utils",function(b){function d(){return m.location.hostname}
function c(a){a=a||m.location.href;var c={},d=a.indexOf("?"),g=a.indexOf("#");a=a.slice(d+1,g>d?g:n)||"";d=[];-1<a.indexOf("\x26")?d=a.split("\x26"):-1<a.indexOf("\x3d")&&(d=[a]);b.each(d,function(a,b){0<a.indexOf("\x3d")&&(a=a.split("\x3d"),c[a[0]]=a[1])});return c}return{getUrlParametersMap:c,addKeyValuePair:function(a,b,d){d=d||0;if(c(a)[b]===d||!a||!b)return a;b="?"+b+"\x3d"+d;return-1<a.indexOf("?")?a.replace("?",b+"\x26"):a+b},getCurrentHostname:d,getDomainRealmBaseUrl:function(a){a=a||d();
if(-1!==a.indexOf(".corp.amazon.com"))return"https://development.amazon.com/";if(-1!==a.indexOf(".proxy.amazon.com")){a=a.split(".")[1];var b={dub:"https://pre-prod.amazon.co.uk/",pdx:"https://pre-prod.amazon.co.jp/",pek:"https://pre-prod.amazon.cn/"};return b[a]!==n?b[a]:"https://pre-prod.amazon.com/"}return"/"}}});"use strict";g.when("A","reviews-constants").register("cr-weblab-utils",function(b,d){function c(a){m.ue&&m.ue.trigger&&m.ue.trigger(a.weblabID,a.treatment)}b.declarative(d.events.TRIGGER_WEBLAB,
"click",function(a){a.data.weblab&&a.data.treatment&&c({weblabID:a.data.weblab,treatment:a.data.treatment})});return{triggerWeblab:c}});"use strict";g.when("cr-A","cr-jQuery","cr-string-utils","cr-weblab-utils","afterReady").register("cr-weblab-on-view-utils",function(b,d,c,a){function e(a,c,e){k[c]||(a=h(d(a),c,e)(),l[c]=(l[c]||[]).concat(a),b.on.scroll(a))}function h(a,c,d){return function t(){b.inView(a)&&(g(c,d),b.each(l[c]||[],function(a){b.off("scroll",a)}));return t}}function g(b,c){k[b]||
(k[b]=!0,a.triggerWeblab({weblabID:b,treatment:c}))}var k={},l={};b.each(d("*[data-cr-weblab-trigger-on-scroll]"),function(a,b){a=d(a);var k=a.attr("data-cr-weblab-trigger-on-scroll"),k=c.parseJSON(k);null!==k&&(b="cr-weblab-trigger-on-scroll-"+b,a.addClass(b),e("."+b,k.weblabId,k.treatment))});return{triggerOnScrollIntoView:e,triggerWeblab:g}});"use strict";g.when("A","cr-uri-utils","cr-string-utils","3p-urijs","cr-jQuery").register("cr-extended-uri-utils",function(b,d,c,a,e){function h(){return a(m.location.href)}
function g(){return h().query()}return e.extend(d,{getCurrentUri:h,getCurrentQueryString:g,getCurrentQueryParameters:function(){return a.parseQuery(g())},isAmazonDomain:function(b){if("string"===typeof b||b instanceof String)b=a(b);var d=c.startsWith(b.domain(),"amazon");!1===d&&(b=b.hostname(),b=b.substring(b.indexOf(".")+1),d=c.startsWith(b,"amazon"));return d},setQueryParameters:function(d,e){if("string"===typeof d||d instanceof String)d=a(d);b.each(e,function(a,b){c.isBlank(a)?d.removeSearch(b):
d=d.setSearch(b,a)});return d},setReftag:function(b,d){if("string"===typeof b||b instanceof String)b=a(b);for(var e=b.segment(),g=!1,h=e.length-1;0<=h;h--)if(c.startsWith(e[h],"ref\x3d")){g=!0;e[h]="ref\x3d"+d;break}g||e.push("ref\x3d"+d);b.segment(e);return b}})});"use strict";g.when("A","cr-jQuery").register("histogram-trigger",function(b,d){function c(){b.onScreen(d("#histogramTable"))&&b.trigger("scroll")}b.on.afterLoad(c);return{triggerHistogram:c}})});
/* ******** */
(function(a){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,c=d?d("CustomerReviewsMedleyAssets",""):b;c.guardFatal?c.guardFatal(a)(c,window):c.execute(function(){a(c,window)})})(function(a,b,d){a.when("A","reviews-constants","medley-twister-view","medley-twister-model","ready").register("medley-twister-controller",function(c,k,e,a){function b(b){b=a.getASIN();var f=e.getDisplayedASIN();f&&b!==f&&(e.fadeReviews(!0),a.getReviews(f,function(){a.setASIN(f)},function(){},function(){e.fadeReviews(!1);
c.trigger(k.events.RELOAD_COMPLETE)}))}var d=e.getLoadedASIN();a.setASIN(d);c.on("a:pageUpdate",b);return{onTwist:b}});"use strict";a.when("A","cr-jQuery").register("medley-twister-view",function(a,b){return{getDisplayedASIN:function(){return String(b("#ASIN").val()||"")},getLoadedASIN:function(){return(b("#cr-state-object").data("state")||{}).asin||""},fadeReviews:function(a){!1===a?b("#cm-cr-review-list .review,#most-recent-reviews-content .review").css("opacity",1):b("#cm-cr-review-list .review,#most-recent-reviews-content .review").css("opacity",
.5)}}});"use strict";a.when("A","cr-global-model","cr-ajax-model","cr-uri-utils","cr-jQuery").register("medley-twister-model",function(b,a,e,d,l){function c(b){var a=d.getUrlParametersMap()||{};a.asin=b;return a}var h;return{setASIN:function(a){h=a||""},getASIN:function(){return h},getReviews:function(a,b,d,g){var f=l("#cr-state-object").data("state");"string"===typeof a&&10===a.length?e.post(f.medleyReviewsAjaxUrl,{params:c(a),attribution:"getMedleyReviews",success:b,error:d,finallyCallback:g}):
"function"===typeof g&&g()}}})});
/* ******** */
(function(f){var h=window.AmazonUIPageJS||window.P,k=h._namespace||h.attributeErrors,c=k?k("CustomerReviewsVotingAssets",""):h;c.guardFatal?c.guardFatal(f)(c,window):c.execute(function(){f(c,window)})})(function(f,h,k){f.when("A","vote-model","vote-view","a-modal","cr-log-utils").register("vote-controller",function(c,b,a,l,f){function h(e,d){m(e,d);a.showElementByCssSelector(e,d.inFlight)}function m(e,d){a.hideElementByCssSelector(e,d.hideVoteComponents);d.hideAbuseComponents&&a.hideElementByCssSelector(e,
d.hideAbuseComponents)}function k(e,d){d.isReportAbuse&&(e=c.$("#mobile-abuse-"+d.reviewId),l.get(e).hide());h(e,d.cssSelectors);b.submitVote(d,function(g){if(!0===g){g=e;var b=d.cssSelectors;m(g,b);a.showElementByCssSelector(g,b.onSuccess)}else g=e,b=d.cssSelectors,m(g,b),a.showElementByCssSelector(g,b.onError)},function(b){if(401===b.http.status){if(b.http.getResponseHeader("x-amz-re-authentication-url")){f.logCount("Ajax401WithReAuthUrl:SubmitVote",1);return}f.logCount("Ajax401WithoutReAuthUrl:SubmitVote",
1)}b=e;var c=d.cssSelectors;m(b,c);a.showElementByCssSelector(b,c.onError)})}c.declarative("reviews:vote-action","click",function(a){k(a.$target,a.data);a.$event.preventDefault()});return{submitVote:k}});"use strict";f.when("A","cr-ajax-model").register("vote-model",function(c,b){return{submitVote:function(a,c,f){var l={"anti-csrftoken-a2z":a.csrfT};a.physicalId&&a.imageExtension&&(l["x-amz-extra-params"]=[a.physicalId,a.imageExtension]);b.post(a.ajaxUrl,{params:{reviewId:a.reviewId},attribution:"submitVote",
success:c,error:f,headers:l})}}});"use strict";f.when("A").register("vote-view",function(c){function b(a,b){return a.closest(".cr-vote").find(b)}return{hideThankYouAlert:function(a){b(a,".cr-vote-success").addClass("aok-hidden")},showThankYouAlert:function(a){b(a,".cr-vote-success").removeClass("aok-hidden")},showErrorAlert:function(a){b(a,".cr-vote-error").removeClass("aok-hidden")},showFeedback:function(a){b(a,".cr-vote-feedback").removeClass("aok-hidden")},hideFeedback:function(a){b(a,".cr-vote-feedback").addClass("aok-hidden")},
hideButtons:function(a){b(a,".cr-vote-buttons").addClass("aok-hidden")},hideElementByCssSelector:function(a,c){b(a,c).addClass("aok-hidden")},showElementByCssSelector:function(a,c){b(a,c).removeClass("aok-hidden")}}})});
/* ******** */
(function(g){var r=window.AmazonUIPageJS||window.P,z=r._namespace||r.attributeErrors,d=z?z("CustomerReviewsGalleryAssets",""):r;d.guardFatal?d.guardFatal(g)(d,window):d.execute(function(){g(d,window)})})(function(g,r,z){g.when("A","cr-jQuery","cr-log-utils","reviews-constants","review-image-assets-loaded").register("review-image-binder",function(d,a,e,b){function n(c,b,f,p,k){if(!(c&&b&&f instanceof a&&p instanceof a&&k instanceof a))return e.logError("Invalid parameters for imageBinder.initializeEventHandlers with ASIN: "+
c+", galleryName: "+b+", $popoverTrigger: "+f+", $thumbnails: "+p+", $galleryLink: "+k,"FATAL"),!1;var d="reviewsLightbox-ready-"+b;p.click(function(){h(c,b);var e=p.index(this);f.click();g.when(d).execute(function(){a("#"+b).trigger("jumpToImageAtIndex",e)})});k.click(function(){h(c,b);f.click();g.when(d).execute(function(){a("#"+b).trigger("hideImmersiveView")})});return!0}function h(a,b){if(!a||!b)return e.logError("Invalid parameters for imageBinder.initializeImageGallery with ASIN: "+a+", galleryName: "+
b,"FATAL"),!1;if(x)return!0;(new ReviewsLightbox(b,"DESKTOP")).initializeForAsin(a);return x=!0}var x=!1,m={};g.when("reviewsLightbox-js").execute(function(){var c=a("#reviews-image-gallery-container"),b=c.attr("data-asin");0<c.length&&b&&n(b,"reviews-image-gallery",c.find(".a-popover-trigger"),c.find(".review-image-tile"),c.find(".reviews-image-gallery-link"))});d.on(b.events.RELOAD_COMPLETE,function(){m={}});return{bindReview:function(b,e,f){var c=new ReviewGallery(f,"DESKTOP"),k=a("#"+e);k.find(".review-image-tile").each(function(e){a(this).click(function(){m[b]||
(c.initializeForReview(b),m[b]=!0);k.find(".a-popover-trigger").click();g.when("reviewsLightbox-ready-"+f).execute(function(){c.render();c.showImageAtIndex(e)})})})},initializeImageGallery:h,initializeEventHandlers:n}});"use strict";g.when("A","cr-jQuery","cr-image-popover-data-fetcher","cr-see-all-images-controller").register("cr-image-popover-controller",function(d,a,e,b){function n(){for(var b=0;b<A.length;b++)b!=u&&(a(A[b]).unbind("click"),a(A[b]).removeClass("cr-lightbox-selected")),a(A[b]).click(h(b))}
function h(a){return function(){c(a)}}function x(){a(D).unbind("click");a(E).unbind("click");a(D).click(function(){var a=parseInt(u,10)+1;c(a);m()});a(E).click(function(){var a=parseInt(u,10)-1;c(a);m()});a(F).mouseenter(function(){m()}).mouseleave(function(){g.animate({opacity:0},100);M.animate({opacity:0},100)})}function m(){var b=.25,c=.25;a(D).css("cursor","pointer");a(E).css("cursor","pointer");var f=e.getReviewIds();if(!v&&u===B.length-1||v&&u===B.length-1&&f.indexOf(C)==f.length-1)b=0,a(D).css("cursor",
"auto");f=e.getReviewIds();if(!v&&0===u||v&&0===u&&0==f.indexOf(C))c=0,a(E).css("cursor","auto");g.animate({opacity:b},100);M.animate({opacity:c},100)}function c(b){if(0<=b&&b<B.length)G.attr("src",B[b]),a(A[u]).removeClass("cr-lightbox-selected"),a(A[b]).addClass("cr-lightbox-selected"),u=b;else if(v){var c=e.getReviewList(),f=e.getReviewIds(),k=f.indexOf(C),d={popover:{$trigger:{context:{}}}};b>u?(k++,k<f.length&&(d.popover.$trigger.context.id=f[k]+"-0",p(d))):(k--,-1<k&&(d.popover.$trigger.context.id=
f[k]+"-"+(c[f[k]].images.length-1),p(d)))}}function w(b){a(K).empty();b.forEach(function(b,c){c===u?a(K).append('\x3cimg src\x3d"'+b+'" class\x3d"cr-lightbox-image-thumbnail cr-lightbox-selected" /\x3e'):a(K).append('\x3cimg src\x3d"'+b+'" class\x3d"cr-lightbox-image-thumbnail"/\x3e')});A=q.find(".cr-lightbox-image-thumbnail");n()}function f(b,f,e,d){q=(v=d||!1)?a("#cr_customers_image_gallery"):a("#"+b+"_image_popover");g=q.find(".cr-lightbox-navigator-button__next");M=q.find(".cr-lightbox-navigator-button__back");
D=q.find(".cr-lightbox-navigator-container__next");E=q.find(".cr-lightbox-navigator-container__back");A=q.find(".cr-lightbox-image-thumbnail");F=q.find(".cr-lightbox-image-viewer");G=F.find(".cr-lightbox-main-image");y=q.find(".cr-lightbox-review-title");H=q.find(".cr-lightbox-review-body");I=q.find(".cr-lightbox-review-origin");L=q.find(".cr-lightbox-review-rating");K=q.find(".cr-lightbox-image-thumbnails");v&&(r=q.find(".cr-lightbox-customer-profile"),z=q.find(".cr-lightbox-customer-profile .a-profile-name"),
P=q.find(".cr-lightbox-customer-profile .a-profile-avatar \x3e img"),N=L.find(".a-icon-alt"));B=f;"string"===typeof f&&(B=f.substring(1,f.length-1).split(","));n();c(k(e).thumbnailId||0);x()}function p(b){var a=e.getReviewList();e.getReviewIds();for(var c=k(b).reviewId,d=[],h=[],p=0;p<a[c].images.length;p++)d.push(a[c].images[p].source),h.push(a[c].images[p].lowResSource);C=c;f(c,d,b,!0);b=C;y.text(a[b].title);L.removeClass();L.addClass("a-icon a-icon-star a-star-"+a[b].starRating+" cr-lightbox-review-rating");
N.text(N.text().replace(/\d([.,]\d)?/,a[b].starRating+".0"));w(h);H.text(a[b].reviewText);I.text(a[b].originDescription);v&&(a=a[b],null===a.customerProfileLink||0===a.customerProfileLink.length?r.css("cursor","initial"):r.css("cursor",""),r.attr("href",a.customerProfileLink),z.text(a.customerName),P.attr("src",a.customerProfileImage));l(!1)}function k(a){return a&&a.popover&&a.popover.$trigger&&a.popover.$trigger.context&&(a=a.popover.$trigger.context.id)&&(a=a.split("-"),1<a.length)?{reviewId:a[0],
thumbnailId:parseInt(a[1],10),seeAllImages:!1}:{seeAllImages:!0}}function t(a){k(a).seeAllImages?l(!0):p(a)}function l(c){q=a("#cr_customers_image_gallery");c?(q.hide(),O.show(),b.updateSeeAllImages(O,p),G&&G.attr("src","")):(q.show(),O.hide(),R.hide(),S.show(),Q.removeClass("cr-lightbox-review-row-no-display"),Q.addClass("cr-lightbox-review-row"))}var B,u=0,g,M,D,E,A,F,G,C,v=!1,J=!1,y,H,I,L,K,r,z,P,N,O=a("#seeAllImagesContainer"),q=a("#cr_customers_image_gallery"),R=a(".cr-large-loadingIcon"),Q=
a("#crReviewRow"),S=a("#crViewAllImagesLink");return{initImagePopover:f,loadDataAndInitImageGalleryPopover:function(a,b,c,f){e.isDataLoaded()?t(a):e.fetchData(c,b,f,function(b,f){if(b=!J)a:{b=e.getReviewIds();for(f=0;f<c.length;f++)if(0>b.indexOf(c[f])){b=!1;break a}b=!0}b&&(t(a),J=!0)})},toggleSeeAllView:l}});"use strict";g.when("A","cr-jQuery","cr-log-utils").register("cr-image-popover-data-fetcher",function(d,a,e){function b(a,b,c){a="/hz/reviews-render/get-reviews-with-media?mediaType\x3dimage\x26asin\x3d"+
a+"\x26csrfToken\x3d"+b;c!==z&&(a+="\x26nextToken\x3d"+c);return a}function n(a,c,p,k,t,l){p=b(c,p,l);d.ajax(p,{method:"get",success:function(b){for(var f in b.reviewsWithMediaList)m[f]=b.reviewsWithMediaList[f];f=Object.keys(m);x=a.slice();for(var e=0;e<f.length;e++)0>a.indexOf(f[e])&&x.push(f[e]);"function"===typeof k&&k(m,x);b.nextToken?n(a,c,b.csrfToken,k,t,b.nextToken):h=!0},error:function(a){e.logCount("ReviewWithImages-DataFetcher-Error");"function"===typeof t&&t()}})}var h=!1,x=[],m={},c=
null;return{fetchData:n,getReviewList:function(){return m},getReviewIds:function(){return x},isDataLoaded:function(){return h},getCustomerImageAltText:function(){c||(c=a(".review-with-images-section .cr-customer-image-thumbnail")[0].getAttribute("alt"));return c}}});"use strict";g.when("A","cr-jQuery","cr-image-popover-data-fetcher").register("cr-see-all-images-controller",function(d,a,e){function b(b,d,f,h){b=a("\x3cdiv\x3e",{class:"cr-thumbnail-preview-tile",css:{background:"url("+b+") 50% 50% no-repeat"},
role:"img",alt:e.getCustomerImageAltText()});b.click(function(){h({popover:{$trigger:{context:{id:d+"-"+f}}}})});return b}function n(a,d,f){for(var c=e.getReviewList(),k=e.getReviewIds(),n=h;h<n+f;){var l=k[m];if(l&&c[l]){m++;for(var g=0;g<c[l].images.length;g++){var w="undefined"===typeof x[l+g]?!0:!1;w&&(a.append(b(c[l].images[g].lowResSource,l,g,d)),h++,0==h%7&&a.append("\x3cbr /\x3e"),x[l+g]=l+g)}}else break}}var h=0,x={},m=0;return{updateSeeAllImages:function(a,b){n(a,b,50);var c=0;a.scroll(function(){var f=
a.scrollTop();200<f-c&&(c=f,n(a,b,50))})}}});"use strict";g.when("A","cr-jQuery").register("cr-mobile-image-popover-controller",function(d,a){function e(a,b){return 0<=a&&a<b.length}function b(){var a=C.prop("scrollHeight"),b=C.prop("clientHeight");return a>b}function n(){return B.hasClass("cr-mg-image-popover-expand-full-cr")}function h(){b()?(v.removeClass("cr-mg-image-popover-reviews-expand-hide"),v.addClass("cr-mg-image-popover-reviews-expand-show")):(v.removeClass("cr-mg-image-popover-reviews-expand-show"),
v.addClass("cr-mg-image-popover-reviews-expand-hide"))}function g(){J.removeClass("cr-mg-image-popover-reviews-content-expand-container-short")}function m(){B.removeClass("cr-mg-image-popover-expand-full-cr");g();C.scrollTop(0);H||t.removeClass("button-hide");I||k.removeClass("button-hide")}function c(){B.addClass("cr-mg-image-popover-expand-full-cr");g();b()||J.addClass("cr-mg-image-popover-reviews-content-expand-container-short");k.addClass("button-hide");t.addClass("button-hide")}function w(a,
b){u.text(b[a].title);r.removeClass();r.addClass("cr-mg-image-popover-reviews-star-rating a-icon a-icon-star-small a-star-small-"+b[a].starRating);z.text(b[a].reviewText);D.empty();D.append(b[a].richReviewText);E.empty();E.append('\x3cimg src\x3d"'+b[a].image+'" class\x3d"cr-mg-image-element" /\x3e');A.text(b[a].authorName);F.empty();F.append('\x3cimg src\x3d"'+b[a].authorAvatarImage+'" data-src\x3d"'+b[a].authorAvatarImage+'"/\x3e \x3cnoscript\x3e\x3cimg src\x3d"'+b[a].authorAvatarImage+'"/\x3e\x3c/noscript\x3e');
G.attr("href",b[a].authorProfileLink);a+1==b.length?k.addClass("button-hide"):k.removeClass("button-hide");0==a?t.addClass("button-hide"):t.removeClass("button-hide");h()}function f(a){I=H=0;0==y&&(H=1);y+1==a.length&&(I=1)}function p(b,c){k.unbind("click");t.unbind("click");y=b;f(c);a(k).click(function(){e(y+1,c)&&(y++,w(y,c),f(c))});a(t).click(function(){e(y-1,c)&&(y--,w(y,c),f(c))})}var k,t,l,B,u,r,z,D,E,A,F,G,C,v,J,y,H,I;d.declarative("cr-mg-image-popover-expand-review-content","click",function(a){b()&&
!n()&&c()});d.declarative("cr-mg-image-popover-reviews-collapse-review-content","click",function(a){m()});d.on("resize",function(){var a=l?l.is(":visible"):!1;a&&(n()?(m(),h(),b()&&c()):h())});return{initializePopover:function(b,c){b=parseInt(b,10);e(b,c)&&(l=a("#cr-mg-immsersive-view-container-"+b),B=l.find(".cr-mg-image-popover-overlay"),k=l.find(".next-button-mobile"),t=l.find(".back-button-mobile"),u=l.find(".cr-mg-image-popover-review-title"),r=l.find(".cr-mg-image-popover-reviews-star-rating"),
z=l.find(".cr-mg-image-popover-reviews-plain-text"),D=l.find(".cr-mg-image-popover-reviews-rich-text"),E=l.find(".cr-mg-image-view"),C=l.find(".cr-mg-image-popover-reviews-content-wrapper"),v=l.find(".cr-mg-image-popover-reviews-expand-container"),J=l.find(".cr-mg-image-popover-reviews-content-expand-container"),A=l.find(".cr-mg-image-popover-reviews-reviewer-text"),F=l.find(".a-profile-avatar"),G=l.find(".cr-mg-image-popover-reviews-author-profile-image"),w(b,c),p(b,c))}}});"use strict";g.when("cr-A",
"cr-jQuery","cr-streaming-utils","cr-media-gallery-view","cr-media-gallery-model").register("cr-media-gallery-controller",function(d,a,e,b,n){function h(){return 480<a(r).width()?3:2}function g(){var a=b.getCurrentMasonryItems(),c=h();0<a.length&&(a=b.getPreciseMaxMasonryListHeightItems(a,c),b.setMasonryListHeight(a.heightInPixelOfColumn,"px",a.nItemInColumn*w))}function m(a){if(!d.objectIsEmpty(a)&&!d.objectIsEmpty(a.data)){b.toggleMediaListLoadingState(!0);var c=n.updateMediaType(a.data.mediaType);
b.updateFilterBar(c);n.getMedia(a.data,function(){},function(){},function(){b.toggleMediaListLoadingState(!1)},function(a){"appendFadeIn"===a[0]&&(b.removeMasonryItemLoadingElements(),e.appendFadeIn(a))})}}function c(){a(".a-manually-loaded.cr-mg-image-element").not("[src]").each(function(){var b=a(this);b.is(":visible")&&d.onScreen(b,p)&&d.loadImageManually(b)})}d.on("resize",function(){b.isMediaGalleryPageVisible()?g():f=!0});d.on("scroll",c);var w=8,f=!1,p=500;return{initialize:g,getNoOfColumns:h,
initializeAfterPopoverHide:function(){f&&g();f=!1},initializeMediaFilters:function(a,b){n.setInitialParams(a,b);d.declarative("cr:media-filter","click",d.compositeEventWrapper(m,!0,100))},manualLazyLoadImages:c}});"use strict";g.when("A","cr-jQuery").register("cr-media-gallery-view",function(d,a){return{getCurrentMasonryItems:function(){return a(".cr-mg-masonry-list").find(".cr-mg-masonry-item")},setMasonryListHeight:function(e,b,d){var h=a(".cr-mg-masonry-list-height-control").get(0);h&&(h.style.setProperty("--height-to-column-width",
e+b),h.style.setProperty("--height-in-pixel",d+"px"))},getPreciseMaxMasonryListHeightItems:function(e,b){for(var d=Array(b),h=Array(b),g=0;g<b;g++)d[g]=0,h[g]=0;var m=0;e.each(function(){var c=a(this).children(".cr-mg-ratio-control");d[m%b]+=c.get(0).getBoundingClientRect().height;h[m%b]+=1;m++});e=d.indexOf(Math.max.apply(Math,d));return{heightInPixelOfColumn:d[e],nItemInColumn:h[e]}},isMediaGalleryPageVisible:function(){var d=a(".cr-mg-masonry-list-height-control");return d?d.is(":visible"):!1},
updateFilterBar:function(d){var b="image"===d;d="video"===d;a(".cr-mg-filter-btn-vid").toggleClass("cr-mg-filter-btn-selected",d);a(".cr-mg-filter-btn-img").toggleClass("cr-mg-filter-btn-selected",b)},toggleMediaListLoadingState:function(d){a(".cr-mg-masonry-list-loading").toggleClass("aok-hidden",!d)},removeMasonryItemLoadingElements:function(){a(".cr-mg-masonry-item-loading").remove()}}});"use strict";g.when("cr-A","cr-log-utils","cr-ajax-model").register("cr-media-gallery-model",function(d,a,e){var b=
{},g;return{setInitialParams:function(a,d){b.asin=a;b.mediaType=d},updateMediaType:function(a){if("image"===a||"video"===a||"all"===a)b.mediaType=b.mediaType===a?"all":a;return b.mediaType},getMedia:function(h,n,m,c,w){g&&e.abort(g);var f=d.now();a.logCount("GetMedia:Count",1);g=e.post("/hz/reviews-render/ajax/media/get/?ie\x3dUTF8",{params:b,attribution:"getMedia",headers:{"anti-csrftoken-a2z":h.csrfToken},success:function(){var b=d.now()-f;a.logCount("GetMedia:Status",1);a.logCount("GetMedia:RequestTime",
b);n()},error:function(){a.logCount("GetMedia:Status",0);m()},finallyCallback:function(){c();g=0},timeout:3E4,chunk:w,cache:!0},1)}}});"use strict";g.when("A","cr-jQuery").register("cr-review-inline-images-controller",function(d,a){function e(b){return a("#%s-cr-inline-images-preview".replace("%s",b)).find(".cr-review-inline-images-main-image")}d.declarative("cr-review-inline-images-thumbnail-click","click",function(a){var b=a.data.imageSrc;e(a.data.reviewId).attr("src",b)});return{getMainImage:e,
getAllThumbnails:function(b){return a("#%s-cr-inline-images-preview".replace("%s",b)).find(".cr-review-inline-images-thumbnails .cr-review-inline-images-thumbnail")}}});"use strict";g.when("cr-inline-videos-controller","ready").register("cr-inline-videos-module",function(d){d.initialize(!0)});"use strict";g.when("A","reviews-constants","cr-log-utils","cr-inline-videos-view","cr-vse-brila-player-gateway").register("cr-inline-videos-controller",function(d,a,e,b,g){function h(a){b.getPlayerPlaceholders().each(function(f,
e){f=d.$(e);if(!b.isPlayerRequestPending(f)&&(!a||a&&b.isPlayerPlaceholderInViewport(f))){b.markPlayerRequestAsPending(f);e=b.extractVideoAsset(f);var h=d.$("#cr-state-object").data("state");e={videoUrl:e.videoUrl,thumbnailUrl:e.thumbnailUrl,reviewId:e.reviewId,closedCaptions:e.closedCaptions,vseContentId:e.vseContentId,marketplaceId:h.marketplaceId,locale:h.locale,page:h.page||"cr_page",placement:h.page?h.page+"_cr_inline_review":"cr_inline_review"};g.getVideoPlayer("vse_reviews_desktop_"+e.reviewId+
"_"+d.now(),e,n(e),m(f),c(f))}})}function n(a){return!d.objectIsEmpty(a)&&!d.objectIsEmpty(a.vseContentId)&&""!=a.vseContentId}function m(a){return function(c){b.markPlayerRequestAsDone(a);b.renderPlayer(a,c)}}function c(a){return function(c){b.markPlayerRequestAsDone(a);b.showErrorMessage(a);e.logError("Failed loading inline video player: "+JSON.stringify(c),"ERROR")}}function w(b){if(b)d.on(d.constants.BROWSER_EVENTS.SCROLL,function(){h(!0)});d.on(a.events.RELOAD_COMPLETE,function(){h(b)})}return{initialize:function(a){h(a);
w(a)},fetchVideoPlayers:h}});"use strict";g.when("A").register("cr-inline-videos-view",function(d){return{getPlayerPlaceholders:function(){return d.$(".cr-video-desktop-placeholder")},extractVideoAsset:function(a){a=a.data();return{reviewId:a.reviewId,videoUrl:a.videoUrl,thumbnailUrl:a.thumbnailUrl,closedCaptions:a.closedCaptions,vseContentId:a.vseContentId}},markPlayerRequestAsPending:function(a){a.data("playerRequestPending",!0)},markPlayerRequestAsDone:function(a){a.removeData("playerRequestPending");
a.removeClass("cr-video-desktop-placeholder")},isPlayerRequestPending:function(a){a=a.data("playerRequestPending");return"undefined"!==a&&a},isPlayerPlaceholderInViewport:function(a){return d.onScreen(a,800)},renderPlayer:function(a,d){a.html(d)},showErrorMessage:function(a){a.addClass("cr-media-show-error-msg")}}});"use strict";g.when("A","cr-uri-utils","cr-log-utils","cr-ajax-model").register("cr-vse-brila-player-gateway",function(d,a,e,b){function n(a,b,n){var c={requester:"vse_reviews_desktop",
clientPrefix:a,marketplaceID:b.marketplaceId,locale:b.locale,page:b.page,placement:b.placement};n&&b.vseContentId?c.video={contentID:b.vseContentId,contentIDType:"VIDEO_ID"}:(b.videoUrl&&b.thumbnailUrl&&b.reviewId||e.logCount(h("vse_player:${placement}:incomplete_video_payload",b),1),c.video={videoURL:b.videoUrl,imageURL:b.thumbnailUrl,contentID:b.reviewId,contentIDType:"EXTERNAL_VIDEO_ID"},d.objectIsEmpty(b.closedCaptions)||""==b.closedCaptions||(c.video.closedCaptions=b.closedCaptions));g.now("Brila").execute("vse-assets-check",
function(a){a!==z&&(c.excludeAssets=["Brila","VSEPlayer"])});return c}function h(a,b){return a.replace("${placement}",b.placement)}var r=a.getDomainRealmBaseUrl()+"vap/ew/subcomponent/vseplayer";return{getVideoPlayer:function(a,c,g,f,p){var k=d.now();a={params:n(a,c,g),paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",withCredentials:!0,timeout:4E3,success:function(a){var b=d.now()-k;e.logCount(h("vse_player:${placement}:load:status",c),1);e.logCount(h("vse_player:${placement}:load:request_time",
c),b);"function"===typeof f&&f(a)},error:function(a){e.logCount(h("vse_player:${placement}:load:status",c),0);"function"===typeof p&&p(a)}};e.logCount(h("vse_player:${placement}:load:count",c),1);b.post(r,a,2)}}})});
/* ******** */
(function(h){var p=window.AmazonUIPageJS||window.P,q=p._namespace||p.attributeErrors,d=q?q("CustomerReviewsFilteringAssets",""):p;d.guardFatal?d.guardFatal(h)(d,window):d.execute(function(){h(d,window)})})(function(h,p,q){h.when("cr-A","cr-jQuery","cr-filtering-view","cr-filtering-model","cr-global-view","reviews-constants","cr-streaming-utils").register("cr-filtering-controller",function(d,f,b,c,m,e,l){function k(n){var a=!1,g=!1;n.toggleFilters&&(g=!0);c.setASIN(b.getLoadedFilterParam("asin"));
a=c.setReviewerType(n.reviewerType,g)||a;a=c.setFormatType(n.formatType,g)||a;a=c.setFilterByKeyword(n.filterByKeyword,g)||a;a=c.setFilterByLanguage(n.filterByLanguage,g)||a;a=c.setSortOrder(n.sortOrder,g)||a;a=c.setStarFilter(n.filterByStar,g)||a;a=c.setPageNumber(n.pageNumber,g)||a;a=c.setHeightFilter(n.filterByHeight,g)||a;a=c.setWeightFilter(n.filterByWeight,g)||a;return a=c.setAgeFilter(n.filterByAge,g)||a}function r(a){if(k(a.data)||a.data.forceReload)a.data.sortOrder&&b.setSortDropdown(a.data.sortOrder),
b.hideReviewLoadError(),b.hideReviews(),b.showLoadingSpinner(),d.trigger(e.events.FILTER_APPLY_BEGIN,a),c.getReviews(function(){b.showReviews();"filterByHeight"===c.getActiveTab()&&b.scrollToFilterIndex("filterByHeight");"filterByWeight"===c.getActiveTab()&&b.scrollToFilterIndex("filterByWeight");d.trigger(e.events.FILTER_APPLY_SUCCESS,a)},function(){b.showReviewLoadError();d.trigger(e.events.FILTER_APPLY_ERROR,a)},function(){b.hideLoadingSpinner();d.trigger(e.events.FILTER_APPLY_DONE,a);d.trigger(e.events.RELOAD_COMPLETE)},
function(a){"appendFadeIn"===a[0]?l.appendFadeIn(a):"replace"===a[0]&&l.replace(a)},m.getReftag(a)),a.data.scrollToSelector&&m.scrollTo(a.data.scrollToSelector,0)}function h(a){a&&a.data&&r(a)}function a(a){a&&a.data&&a.$target&&a.data.filterType&&(a.data[a.data.filterType]=a.$target.val(),r(a))}function g(a){a&&a.data&&a.data.filterType&&(b.deactivateFilterTabHeaders(),b.activateFilterTabHeader(a.data.filterType),b.changeFilterOptionsTo(a.data.filterType),c.setActiveTab(a.data.filterType),"filterByHeight"!==
a.data.filterType&&"filterByWeight"!==a.data.filterType||b.scrollToFilterIndex(a.data.filterType))}c.setReviewsAjaxUrl(b.getReviewsAjaxUrl());b.enableDesktopDPFilterDropdown();d.declarative(e.events.FILTER_APPLY,"click",d.compositeEventWrapper(h,!0,100));d.declarative(e.events.FILTER_CHANGE,"change",d.compositeEventWrapper(a,!0,100));d.declarative(e.events.FILTER_TAB_CLICKED,"click",g);c.setReviewerType(b.getLoadedFilterParam("reviewerType"),!1);c.setFormatType(b.getLoadedFilterParam("formatType"),
!1);c.setFilterByKeyword(b.getLoadedFilterParam("filterByKeyword"),!1);c.setFilterByLanguage(b.getLoadedFilterParam("filterByLanguage"),!1);c.setStarFilter(b.getLoadedFilterParam("filterByStar"),!1);c.setSortOrder(b.getLoadedFilterParam("sortOrder"),!1);c.setPageNumber(b.getLoadedFilterParam("pageNumber"),!1);c.setHeightFilter(b.getLoadedFilterParam("filterByHeight"),!1);c.setWeightFilter(b.getLoadedFilterParam("filterByWeight"),!1);c.setAgeFilter(b.getLoadedFilterParam("filterByAge"),!1);c.setLanguage(b.getLoadedFilterParam("languageOfPreference"));
b.getLoadedFilterParam("showLanguageFilter")?c.setActiveTab("filterByLanguage"):b.getLoadedFilterParam("showHeightFilter")?(c.setActiveTab("filterByHeight"),b.scrollToFilterIndex("filterByHeight")):b.getLoadedFilterParam("showAgeFilter")&&c.setActiveTab("filterByAge");return{setFilterParams:k,onFilterApply:h,onFilterChange:a,onFilterTabClicked:g}});"use strict";h.when("A","cr-ajax-model","ready").register("cr-filtering-model",function(d,f){function b(){return k.asin||""}function c(){return h||""}
function m(a,g){g?k[a]=g:delete k[a]}function e(a,g,b){var c=!1;a&&g!==q&&(c=l(a)!==g,!c&&b&&(g="CLEAR_VALUE",c=!0),m(a,g));return c}function l(a){return k[a]||""}var k={},h="",p;return{getReviews:function(a,g,b,c,e){var m=h;p&&f.abort(p);e&&(m+="ref\x3d"+e);p=f.post(m,{params:k,attribution:"getFilteredReviews",success:a,error:g,finallyCallback:function(){b();p=0},chunk:c})},setASIN:function(a){var g=b()!==a;m("asin",a);return g},getASIN:b,setReviewsAjaxUrl:function(a){var b=c()!==a;h=a||"";return b},
getReviewsAjaxUrl:c,setReviewerType:function(a,b){return e("reviewerType",a,b)},getReviewerType:function(){return l("reviewerType")},setFormatType:function(a,b){return e("formatType",a,b)},getFormatType:function(){return l("formatType")},setFilterByKeyword:function(a,b){return e("filterByKeyword",a,b)},getFilterByKeyword:function(){return l("filterByKeyword")},setFilterByLanguage:function(a,b){return e("filterByLanguage",a,b)},getFilterByLanguage:function(){return l("filterByLanguage")},setSortOrder:function(a,
b){return e("sortBy",a,b)},getSortOrder:function(){return l("sortBy")},setStarFilter:function(a,b){return e("filterByStar",a,b)},getStarFilter:function(){return l("filterByStar")},setPageNumber:function(a,b){return e("pageNumber",a,b)},getPageNumber:function(){return l("pageNumber")},setHeightFilter:function(a,b){return e("filterByHeight",a,b)},getHeightFilter:function(){return l("filterByHeight")},setWeightFilter:function(a,b){return e("filterByWeight",a,b)},getWeightFilter:function(){return l("filterByWeight")},
setAgeFilter:function(a,b){return e("filterByAge",a,b)},getAgeFilter:function(){return l("filterByAge")},getFilterParams:function(){return k||{}},updateFilterParam:m,setActiveTab:function(a){return m("activeTab",a)},getActiveTab:function(){return l("activeTab")},setLanguage:function(a){return m("language",a)}}});"use strict";h.when("cr-A","cr-jQuery","a-dropdown","ready").register("cr-filtering-view",function(d,f,b){function c(b){return(f("#cr-state-object").data("state")||{})[b]||""}return{getReviewsAjaxUrl:function(){return(f("#cr-state-object").data("state")||
{}).reviewsAjaxUrl||""},showLoadingSpinner:function(){var b=d.getValueFromState("onLoadShowHideElements");f(b).removeClass("aok-hidden")},hideLoadingSpinner:function(){var b=d.getValueFromState("onLoadShowHideElements");f(b).addClass("aok-hidden")},hideReviews:function(){f(".filterable-reviews-content").addClass("aok-hidden")},showReviews:function(){f(".filterable-reviews-content").removeClass("aok-hidden")},showReviewLoadError:function(){f(".review-load-error").removeClass("aok-hidden")},hideReviewLoadError:function(){f(".review-load-error").addClass("aok-hidden")},
deactivateFilterTabHeaders:function(){f(".cr-tab-header-text").removeClass("cr-tab-active")},activateFilterTabHeader:function(b){f(".cr-tab-header-text-"+b).addClass("cr-tab-active")},changeFilterOptionsTo:function(b){f(".cr-tab-content").addClass("aok-hidden");f(".cr-tab-content-"+b).removeClass("aok-hidden")},getLoadedFilterParam:c,setSortDropdown:function(c){b.getSelect("cm-cr-sort-dropdown").setValue(c)},scrollToFilterIndex:function(b){var e;e=0;var d;d=c("isCardTreatmentEnabled")?f(".cr-horizontal-scroll-list-cardify-padding ul \x3e *:first-child"):
f(".cr-horizontal-scroll-list-padding ul \x3e *:first-child");var k=f(p).width();b=f("ul#"+b+"-button-list")[0];if(d===q||k===q||b===q)e=-1;else{var h=parseInt(b.dataset.index);d=parseInt(d.css("padding-left").replace("px",""));if(-1!==h){e=d-k/2;for(k=0;k<h;k++)e+=f("#"+b.children[k].firstElementChild.id).outerWidth(!0);e+=f("#"+b.children[h].firstElementChild.id).outerWidth(!0)/2}}0>e||f(".cr-filter-scroll-container").animate({scrollLeft:e},50)},enableDesktopDPFilterDropdown:function(){f("#cm-cr-dp-review-sort-type").removeClass("aok-hidden")}}});
"use strict";h.when("cr-A","cr-lighthut-terms-view","reviews-constants","cr-log-utils").register("cr-lighthut-terms-controller",function(d,f,b,c){function h(b){b&&b.filterByKeyword!==q&&(f.setSelected(b.filterByKeyword),c.incrementCount("LighthutTermClicked"))}d.on(b.events.FILTER_APPLY_BEGIN,d.compositeEventWrapper(function(b){b&&b.data&&h(b.data)}));return{onFilterApplied:h}});"use strict";h.when("A","cr-jQuery","ready").register("cr-lighthut-terms-view",function(d,f){return{setSelected:function(b){b=
b.replace(/ /g,"_");var c=(b=f("#cr-lighthouse-term-"+b))&&b.hasClass("cr-lighthut-term-selected");f(".cr-lighthut-term-selected").removeClass("cr-lighthut-term-selected");c||b.addClass("cr-lighthut-term-selected")}}})});
/* ******** */
