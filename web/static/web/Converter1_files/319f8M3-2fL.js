'use strict';mix_d("SimilaritiesUICards__p13n-desktop-sims-fbt:p13n-desktop-sims-fbt__IUGnWyLz",["exports","tslib","@c/browser-operations","@c/scoped-dom","@c/error-handling"],function(O,F,U,V,W){function I(b){return b&&"object"===typeof b&&"default"in b?b:{"default":b}}var X=I(U),d=I(V),J=I(W),Y=function(b,e){e?b.classList.add("add-to-cart-item-disabled"):b.classList.remove("add-to-cart-item-disabled");b.querySelectorAll("input").forEach(function(n){e?n.setAttribute("disabled","true"):n.removeAttribute("disabled")})},
P=function(b,e){b=d["default"].cardRoot.querySelector("#add-to-cart-item-"+b);if(!b)return J["default"].error('Missing Add to Cart item!", "add-to-cart.client.item-state-handler',"changeItemStatus");if(!(e&&b.classList.contains("add-to-cart-item-disabled")||!e&&!b.classList.contains("add-to-cart-item-disabled"))){Y(b,e);var n;for(b=e=0;3>b;b++){var a=d["default"].cardRoot.querySelector("#add-to-cart-item-"+b);if(!a)break;a.classList.contains("add-to-cart-item-disabled")||e++}var c=d["default"].cardRoot.getElementsByClassName("add-to-cart-section")[0];
b=c.getElementsByClassName("a-button-text")[0];a=c.getElementsByClassName("add-to-cart-button")[0];c=c.getElementsByClassName("add-to-cart-string-data")[0];if(null===(n=null===c||void 0===c?void 0:c.dataset)||void 0===n?0:n.displayStringList)var h=JSON.parse(c.dataset.displayStringList);a&&(0===e?a.classList.add("a-button-disabled"):a.classList.remove("a-button-disabled"));b?h&&h.length>e?b.innerText=h[e]:J["default"].error('Missing Add to Cart string!", "add-to-cart.client.item-state-handler',"updateButtonString"):
J["default"].error('Missing Add to Cart button!", "add-to-cart.client.item-state-handler',"updateButtonString")}},T=function(b){return F.__awaiter(void 0,void 0,void 0,function(){var e,n,a,c,h,f,w,K,x,y,p,L,q,r,z,A,M,B,Q,t,u;return F.__generator(this,function(v){if((a=d["default"].cardRoot.getElementsByClassName("cardRoot")[0])&&"true"===a.dataset.punt)return[2];c=1;a&&a.dataset.count&&(c=Number(a.dataset.count));a&&a.dataset.components&&(h=JSON.parse(a.dataset.components));a&&a.dataset.addToCart&&
(f=JSON.parse(a.dataset.addToCart));a&&a.dataset.priceTotals&&(w=JSON.parse(a.dataset.priceTotals));a&&a.dataset.pointsTotal&&(K=JSON.parse(a.dataset.pointsTotal));if(h&&w){v=h;for(var C=c,D=[],l=[],g=0;g<C;g++){var m=g+1;1<m&&(D[g]=d["default"].cardRoot.getElementsByClassName("thumbnailPlus-"+String(m))[0]);l[g]=d["default"].cardRoot.getElementsByClassName("thumbnail-"+String(m))[0]}var N=!1,R=0,S="";for(g=0;g<C;g++){m=String(g+1);var E=D[g],G=l[g];v[m]&&v[m].checked?(P(g,!1),R++,S+=m,0===g?N=!0:
E&&(N?E.style.display="unset":(N=!0,E.style.display="none")),G&&(G.style.display="unset")):(P(g,!0),E&&(E.style.display="none"),G&&(G.style.display="none"))}e=R;n=S;v=h;C=c;D=[];for(l=0;l<C;l++)g=l+1,D[l]=d["default"].cardRoot.getElementsByClassName("asin-"+String(g))[0];for(l=0;l<C;l++)g=String(l+1),m=D[l],v[g]&&v[g].checked?m&&(m.style.opacity="100%"):m&&(m.style.opacity="50%");x=e;y=w[n];p=d["default"].cardRoot.getElementsByClassName(b.totalLabel)[0];L=d["default"].cardRoot.getElementsByClassName(b.totalAmount)[0];
q=d["default"].cardRoot.getElementsByClassName(b.addItems)[0];r=d["default"].cardRoot.getElementsByClassName(b.chooseItems)[0];z=d["default"].cardRoot.getElementsByClassName(b.actionDetails)[0];A=d["default"].cardRoot.getElementsByClassName(b.sidePanel)[0];0===x?(q&&(q.style.display="none"),p&&(p.style.display="none"),r&&(r.style.display="unset"),z&&(z.style.visibility="hidden"),A&&(A.style.display="none")):(y?(p&&L&&(L.innerText=y,p.style.display="block"),q&&(q.style.display="none"),r&&(r.style.display=
"none")):(q&&(q.style.display="inline-block"),r&&(r.style.display="none"),p&&(p.style.display="none")),z&&(z.style.visibility="visible"),A&&(A.style.display="flex"));a&&h&&K&&(M=d["default"].cardRoot.getElementsByClassName(b.pointsAmount)[0],B=d["default"].cardRoot.getElementsByClassName(b.totalPointsLabel)[0],(Q=K[n])?B&&M&&(M.innerText=Q,B.style.display="block"):B&&(B.style.display="none"));if(t=d["default"].cardRoot.getElementsByClassName(b.buttonSection)[0])u=t.getElementsByClassName("a-button-text")[0],
0===x?t.classList.contains("a-button-disabled")||t.classList.add("a-button-disabled"):(t.classList.contains("a-button-disabled")&&t.classList.remove("a-button-disabled"),u&&t.classList.contains("add-to-cart-button")?u.innerText+=": "+y:u&&f&&f.length>=x&&(u.innerText=f[x-1]+": "+y))}return[2]})})},H;(function(b){b.clickHandler="clickHandler";b.checkHandler="checkHandler";b.popupHandler="popupHandler"})(H||(H={}));var k={simsFbtContainter:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-containter__2Cffh",
flexFbtContainer:"_p13n-desktop-sims-fbt_fbt-desktop_flex-fbt-container__3fI_9",detailImageSection:"_p13n-desktop-sims-fbt_fbt-desktop_detail-image-section__1Bw2r",imageDisplay:"_p13n-desktop-sims-fbt_fbt-desktop_image-display__2oZhY",linkArea:"_p13n-desktop-sims-fbt_fbt-desktop_link-area__1VLAZ",thumbnailBox:"_p13n-desktop-sims-fbt_fbt-desktop_thumbnail-box__4jnIT",newThumbnailBox:"_p13n-desktop-sims-fbt_fbt-desktop_new-thumbnail-box__36bD3",twoItemThumbnailBox:"_p13n-desktop-sims-fbt_fbt-desktop_two-item-thumbnail-box__jV2am",
newDetailFaceoutBox:"_p13n-desktop-sims-fbt_fbt-desktop_new-detail-faceout-box___WyNy",fbtCheckbox:"_p13n-desktop-sims-fbt_fbt-desktop_fbt-checkbox__GSgEz",titleComponentOverflow3:"_p13n-desktop-sims-fbt_fbt-desktop_title-component-overflow3__26ly1",titleSection:"_p13n-desktop-sims-fbt_fbt-desktop_title-section__16zUG",displayFlex:"_p13n-desktop-sims-fbt_fbt-desktop_display-flex__1gorZ",priceSection:"_p13n-desktop-sims-fbt_fbt-desktop_price-section__1Wo6p",thumbnailPlus:"_p13n-desktop-sims-fbt_fbt-desktop_thumbnail-plus__zdWox",
productBox:"_p13n-desktop-sims-fbt_fbt-desktop_product-box__3PBxY",itemDetailsPerAsin:"_p13n-desktop-sims-fbt_fbt-desktop_item-details-per-asin__3DtF1",itemDeliveryMessagePerAsin:"_p13n-desktop-sims-fbt_fbt-desktop_item-delivery-message-per-asin__WQ7q7",fbtItemCheck:"_p13n-desktop-sims-fbt_fbt-desktop_fbt-item-check__pUIoy",addAllButton:"_p13n-desktop-sims-fbt_fbt-desktop_add-all-button__1TRXG",totalLabel:"_p13n-desktop-sims-fbt_fbt-desktop_total-label__dI983",labelCenter:"_p13n-desktop-sims-fbt_fbt-desktop_label-center__L5TW-",
totalPointsLabel:"_p13n-desktop-sims-fbt_fbt-desktop_total-points-label__3r09H",addItems:"_p13n-desktop-sims-fbt_fbt-desktop_add-items__16weX",chooseItems:"_p13n-desktop-sims-fbt_fbt-desktop_choose-items__15UQx",updatedChooseItems:"_p13n-desktop-sims-fbt_fbt-desktop_updated-choose-items__3BN67",totalAmount:"_p13n-desktop-sims-fbt_fbt-desktop_total-amount__wLVdU",pointsAmount:"_p13n-desktop-sims-fbt_fbt-desktop_points-amount__1SNdT",priceAddToCartBox:"_p13n-desktop-sims-fbt_fbt-desktop_price-add-to-cart-box__3OUdK",
pricePointsBox:"_p13n-desktop-sims-fbt_fbt-desktop_price-points-box__1xGfe",shipMessageBox:"_p13n-desktop-sims-fbt_fbt-desktop_ship-message-box__t-OOr",shippingInfoShowBox:"_p13n-desktop-sims-fbt_fbt-desktop_shipping-info-show-box__17yWM",showDetailsBox:"_p13n-desktop-sims-fbt_fbt-desktop_show-details-box__-R3Xb",showDetails:"_p13n-desktop-sims-fbt_fbt-desktop_show-details__3GnPL",shiftDetails:"_p13n-desktop-sims-fbt_fbt-desktop_shift-details__gffZp",hideDetails:"_p13n-desktop-sims-fbt_fbt-desktop_hide-details__28l17",
simsFbtUnselectedItem:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-unselected-item__VQmZx",simsFbtRows:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-rows__2LJXs",bucketDivider:"_p13n-desktop-sims-fbt_fbt-desktop_bucket-divider__25poP",titleTruncate:"_p13n-desktop-sims-fbt_fbt-desktop_title-truncate__1pPAM",detailRowElement:"_p13n-desktop-sims-fbt_fbt-desktop_detail-row-element__2WDgq",detailRowElementLeftMargin:"_p13n-desktop-sims-fbt_fbt-desktop_detail-row-element-left-margin__UkZ8O",actionDetails:"_p13n-desktop-sims-fbt_fbt-desktop_action-details__18ZiI",
actionSection:"_p13n-desktop-sims-fbt_fbt-desktop_action-section__mpQSG",sidePanel:"_p13n-desktop-sims-fbt_fbt-desktop_side-panel__23vsu"};O._operationNames=[];O.card=function(){return F.__awaiter(void 0,void 0,void 0,function(){var b,e;return F.__generator(this,function(n){b=X["default"].setup().define;if(!d["default"].cardRoot)return[2];T(k);e=!0;b(H.clickHandler,"click",function(a){if(a.event.target){a=d["default"].cardRoot.getElementsByClassName(k.shippingInfoShowBox);var c=d["default"].cardRoot.getElementsByClassName(k.showDetails)[0],
h=d["default"].cardRoot.getElementsByClassName(k.hideDetails)[0];c&&(e?(c.style.display="none",h.style.display="unset",a&&([].forEach.call(a,function(f,w){f.style.display="block"}),e=!1)):(c.style.display="unset",h.style.display="none",a&&[].forEach.call(a,function(f,w){f.style.display="none"}),e=!0))}});b(H.checkHandler,"click",function(a){a=a.event.target;if(!a||"fbtCheck"===a.id.substr(0,8)){for(;a&&!a.classList.contains(k.fbtItemCheck)&&!a.classList.contains(k.fbtCheckbox);)a=a.parentElement;
if(a){var c=a.id,h=d["default"].cardRoot.getElementsByClassName("cardRoot")[0],f=void 0;h&&h.dataset.components&&(f=JSON.parse(h.dataset.components));f&&f[c]&&(f[c].checked=!f[c].checked);f&&f[c].checked&&(a.classList.contains(k.simsFbtUnselectedItem)&&a.classList.remove(k.simsFbtUnselectedItem),a.classList.contains(k.fbtCheckDetails)||a.classList.add(k.fbtCheckDetails));f&&!f[c].checked&&(a.classList.remove(k.fbtCheckDetails),a.classList.add(k.simsFbtUnselectedItem));h.dataset.components=JSON.stringify(f);
T(k)}}});return[2]})})}});
