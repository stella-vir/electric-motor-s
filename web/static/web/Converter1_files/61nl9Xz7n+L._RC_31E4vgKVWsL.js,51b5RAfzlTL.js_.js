(function(w){var r=window.AmazonUIPageJS||window.P,fa=r._namespace||r.attributeErrors,c=fa?fa("DetailPageImageBlockAssets",""):r;c.guardFatal?c.guardFatal(w)(c,window):c.execute(function(){w(c,window)})})(function(w,r,fa){w.register("postMetric",function(){return{postCountMetric:function(c){if("undefined"!==typeof c){var a=r.ue;if(a){var b=a.count(c)||0;a.count(c,b+1)}}},postTimeMetric:function(c,a){if("undefined"!==typeof c&&"undefined"!==typeof a){var b=r.ue;b&&b.count(c,a)}},emitNexusMetric:function(c){r.ue&&
ue.event&&ue.event(c,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(c,a,b,e,m,h,n,g){return{eventSource:"IBCarousel",placementContext:g,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:c,intPayload:a,videoAsin:b,videoAsinList:"",groupType:e,pageUrl:m,pageAsin:h,weblabIds:n}}}});"use strict";w.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});w.register("postEarlyMetric",function(){return null});"use strict";
w.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(c,a,b,e){c=c.extend(!0,{},b,e);var m=new a(c);w.register("ImageBlockAPI",function(){return m.api});return m});"use strict";w.when("A","jQuery").execute(function(c,a){c.on("a:image:load:landingImage",function(){r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});c.loadDynamicImage(a("#landingImage"))});"use strict";w.when("ImageBlockATF",
"atf").register("ImageBlockAiryLoader",function(c){function a(b){b&&(w.load.js(b),r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",r.parseInt(performance.now())))}function b(b){b&&w.load.css(b)}var e=c.airyConfig;e===fa?w.when("ImageBlockBTF").execute(function(c){e=c.airyConfig;a(e.jsUrl);b(e.cssUrl)}):(a(e.jsUrl),b(e.cssUrl))});"use strict";w.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(c,
a,b,e,m){var h={};return function(n){var g=this;g.dispatch=function(b,a){var g=h[b];e.isDefined(g)&&c.each(g,function(b,h){h.call(r,a)})};g.register=function(b,a){e.isDefined(h[b])||(h[b]=[]);"function"===typeof a&&h[b].push(a)};g.model=new a(n,g);g.view=new b(n,g,g.model);g.api=new m(n,g,g.model);g.init=function(){g.model.init();g.view.init()};g.init()}});"use strict";w.when("A","imageBlockUtils").register("ImageBlockModel",function(c,a){function b(b,h,c,g,e,n){a.isDefined(b)&&(l.type=b);a.isDefined(h)&&
(l.index=h);a.isDefined(c)&&(l.thumbnailIndex=c);a.isDefined(g)&&(l.variant=g);a.isDefined(e)&&(l.color=e);l.shoppableScene=n||null}function e(a){b("image",0,0,"MAIN",a||g.landingAsinColor||g.defaultColor,null)}function m(a){a=a.data;J=c.copy(l);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(b){m(b);b=c.copy(b);b.data=c.copy(l);q.dispatch("updateView",b)}function n(){J=c.copy(l);e(l.color)}var g,q,l={},J={},I,r;return function(a,C){q=C;g=a;q.register("updateSelection",
h);q.register("updateModel",m);q.register("resetModel",n);this.init=function(){e()};this.getCurrentItem=function(){return c.copy(l)};this.getPreviousItem=function(){return c.copy(J)};this.setCurrentEvent=function(b){I=b};this.getCurrentEvent=function(){return I};this.setImmersiveViewModalInstance=function(b){r=b};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){g.title=b};this.setToPreviousItem=function(){b(J.type,J.index,J.thumbnailIndex,J.variant,J.color,J.shoppableScene)};
this.setToCurrentItem=function(a){b(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});"use strict";w.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(c,a){function b(b,a,e,g,q){function l(b){"click"===b.type&&g.postCountMetric("thumbClick");"click"===b.type&&k.overrideAltImageClickAction?v.dispatch("thumbActionClick",b):v.dispatch("updateSelection",b)}function J(b){k.useClickZoom||v.dispatch("imageClick",b)}function I(b){k.useClickZoom||v.dispatch("imageHover",
b)}function G(b){v.dispatch("button360Click",b)}function u(a){!e.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(p.update(a),"swatchHover"!==a.type&&y.getPreviousItem().thumbnailIndex!==a.data.thumbnailIndex&&g.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(p.render(a.data.color,!1,a.onload),a={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",
a))}function C(b){v.dispatch("resize",b)}function H(b){e.selectThumbnail(b,A)}function P(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function N(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});
1===c.useIV?w.when("a-modal").execute(function(){P()}):P();k.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],l);b.declarative("thumb-action",["click"],l);b.declarative("main-image-click",["click"],J);b.declarative("main-image-click",["mouseenter","mouseleave"],I);b.declarative("button-360-click",["click"],G);b.on("resize",C)}function R(b){var a=b.data,d;a&&"ingress"!==a.type&&"click"===b.type&&(d=b);return d}function d(b){var a=y.getCurrentItem(),d={type:"click"};
d.$declarativeParent=b;d.data=a;return d}var p,k,v,y,A;return function(b,c,e){p=this;k=b;v=c;y=e;A=a("#imageBlock #altImages ul");var g=a("#imageBlock .canvas"),n=a("#main-image-container"),f;p.subViews=[];for(c=0;c<q.length;c++)p.subViews.push(new q[c](b,e,p,v));p.render=function(b,B,c){var e=0;A.find(".item").remove();b=b||y.getCurrentItem().color;a.each(p.subViews,function(a,f){e=f.render(b,e,g,A,n,B,c)||e});var k=A.find(".a-button-selected").closest(".a-declarative");f=d(k)};p.init=function(){A=
a("#imageBlock #altImages ul");var b=A.find(".a-button-selected").closest(".a-declarative"),f=b.data("action"),b=b.data(f)||{};b.color=k.landingAsinColor||k.defaultColor;v.dispatch("updateModel",{data:b});p.render(b.color,!0);k.isDebug&&r.console&&console.log(k);v.register("updateView",u);v.register("selectThumbnail",H);N()};p.update=function(b){a.each(p.subViews,function(a,f){f.update(b)});k.usePeekHover&&("mouseleave"===b.type?v.dispatch("updateSelection",f):"click"===b.type&&(f=R(b)||f))}}}var e=
["A","jQuery","imageBlockUtils","postMetric"].concat(c.views);w.when.apply(w,e).register("ImageBlockView",function(){for(var a=arguments[0],h=arguments[1],c=arguments[2],e=arguments[3],q=[],l=4,J=arguments.length;l<J;l++)q.push(arguments[l]);return b(a,h,c,e,q)})});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(c,a,b,e,m,h,n){function g(f,d,h,c){if(!b.isjQueryObjDefined(f.find(".a-button-selected"))){var e=
v.getCurrentItem();if(!c||"chromeless-video"!==e.type||!k.autoplayVideo){c=0;"image"===e.type&&(c=Math.max(J(e.color,e.variant),0));var g=d+c;g>=h&&(c=0,g=d);d=b.getImageHash(e.color,c,k);-1!==d&&(y.dispatch("updateModel",{data:{index:c,thumbnailIndex:g,variant:d.variant,type:"image",shoppableScene:d.shoppableScene}}),d=f.find(".item").get(g),b.selectGivenThumbnail(a(d),f))}}}function q(f,d,c){d=k.colorImages&&k.colorImages[d];var e=f;b.isDefined(d)&&(a.each(d,function(a,d){f<k.maxAlts&&(b.createThumbnail({type:"image",
index:a,thumbnailIndex:f,variant:d.variant,shoppableScene:d.shoppableScene},d.thumb,L,"imageThumbnail"),f++)}),h.isEnabled&&n.logAltImgRequestPlacedOnThumbnails(a,h,v),g(L,e,f,c));return f}function l(f,d){if("image"===f.type){var h=a("#image-canvas-caption #canvasCaption"),c,e=k.staticStrings,g=k.colorImages,p=f.color,n=f.index;b.isShoppableScenesEnabled()&&f.shoppableScene?c=e.clickSceneTagsToShopProducts:d&&k.useIV?c=e.clickToExpand:g[p]&&g[p][n].hiRes&&k.useHoverZoom?(c=k.useHoverZoomIpad?e.touchToZoom:
k.useClickZoom?e.clickToZoom:e.rollOverToZoom,k.hoverZoomIndicator&&(c="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+c)):k.useIV&&(c=e.clickToExpand);h.html(c)}}function J(a,f){return b.getIndexForVariant(a,f,k)}function I(b,a){var f=a.thumbnailIndex,d=k.colorToAsin[a.color]&&k.colorToAsin[a.color].asin;if(!(x&&"altImageIdx"in x&&x.altImageIdx===f&&"asin"in x&&x.asin===d)){var h="#",c=b.find(".imgTagWrapper img").get(0);c&&(h=c.src);var e=new Image;e.onload=function(){if(c){c.src=
h;var b=c.width,a=c.height,D=c.naturalWidth,e=c.naturalHeight;try{var g=(Math.abs(b/D*e-a)/a).toFixed(2);.01<g&&(r.ue&&r.ue.count("imageBlock-PC-hi_res",1),r.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res"},r.ueLogError({message:"[ImageBlock Hi-Res: Size distortion at altImageIdx "+f+" ASIN:"+d+" Diff:"+g.toString()+"]"},b)))}catch(B){r.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res"},r.ueLogError(B,b))}}};e.src=h;x.altImageIdx=f;x.asin=d}}function G(f,d){var c=
"a-dynamic-image";if(!k.acEnabled){var h;a.each(f.main,function(a,f){b.isDefined(h)||(h=parseFloat(f[1]/f[0])<=parseFloat(k.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=h}var e=b.getMaxDimensionsOfMainImage(f.main,O,k),g=e[0],p=e[1],e=a("\x3cdiv\x3e\x3c/div\x3e"),g={"max-height":g,"max-width":p};e.addClass(c).css(g).attr({"data-old-hires":f.hiRes,"data-a-manual-replacement":"true",onload:d}).data("a-dynamic-image",f.main);return e}function u(b,a,f){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+
b;"function"==typeof uet&&uet("bb",d,{wb:1});f.attr("data-a-image-name","shoppable-scene:"+b);f=F.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");f.addClass("celwidget").attr("cel_widget_id",d);f.children("span").css("display","inline-block");y.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:f.find(".mirai-scene-tag-placeholder"),
$viewProductsButton:f.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(f,d){f.forEach(function(f){"childList"===f.type&&f.target.classList.contains("mirai-scene-image-block-tag-container")&&1===f.addedNodes.length&&"IMG"===f.addedNodes[0].tagName&&""!==f.addedNodes[0].src&&(f=f.addedNodes[0],"function"!==typeof f.onload&&(f.onload=function(){c.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:a.shoppableScene})}),d.disconnect())})})).observe(f.find(".mirai-scene-image-block-tag-container")[0],
{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return f}function C(b){var f=O.css("height");null!==f&&b.find(".imgTagWrapper").css("height",f);b.addClass("selected");k.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function H(f,a){if("image"===f.type||"unavailable"===f.type||"lazy-loaded"===f.type){b.isDefined(a)&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");var d=b.getImageHash(f.color,f.index,k);if(-1===d)return d=
{data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},b.lazyLoadingRequired(f,v,k)||(y.dispatch("updateModel",d),b.showUnavailable(f.color)),-1;var e=F.find(".item.itemNo"+f.thumbnailIndex);if(!b.isjQueryObjDefined(e)){var e=f.thumbnailIndex,g=G(d,a),p;p=b.isShoppableScenesEnabled()&&d.shoppableScene?u(e,d,g):F.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");p.addClass("image item itemNo"+e+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":e+1});p.find(".placeHolder").replaceWith(g);F.find(".list").append(p);c.loadImageManually(g);e=p;I(e,f)}C(e);y.dispatch("loadMagnifier");l(f);k.useIV&&b.isDefined(d.hiRes)&&e.css("cursor","pointer");f.isUserGenerated&&(e=v.getPreviousItem(),g=f.variant,b.isDefined(g)&&e.thumbnailIndex!==f.thumbnailIndex&&(h.isEnabled&&n.logAltImgRequestServed(h),m.postCountMetric("ImageThumbnailSelectedVariant:"+g),0===g.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+
g),m.postCountMetric("IGImageSelectedEvent:"+f.interaction))));c.trigger("dp:image-block:update",d)}}function P(f){var a=Math.max(J(f.color,v.getCurrentItem().variant),0),a=b.getImageHash(f.color,a,k);if(-1===a)return b.lazyLoadingRequired(f,v,k)||b.showUnavailable(f.color),-1;f=F.find(".swatchHoverExp");var d=G(a);f.find(".imgTagWrapper").html(d);c.loadImageManually(d);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");C(f);c.trigger("dp:image-block:update",a)}function N(f,d){b.lazyLoadingRequired(f,
v,k)||(a("#imageBlock").css("opacity","1"),F.css("opacity","1"),b.spinner(F,!1),F.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),b.hideUnavailable(),d&&F.find(".list .item").remove())}function R(){var f=F.find(".item .imgTagWrapper"),d=b.getContainerHeight(O,k.holderRatio,k.holderMaxHeight);0<d&&(O.height(d),f.height(d));F.find("img.a-dynamic-image").each(function(){var f=a(this);f.data("a-manual-replacement")&&c.loadDynamicImage(this);var d=f.data("a-dynamic-image"),
d=b.getMaxDimensionsOfMainImage(d,O,k);f.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function d(f){l(v.getCurrentItem(),"mouseenter"===f.type)}var p,k,v,y,A,M,L,F,O,x={},f;c.on("triggerImageAjax",function(f){var a=v.getCurrentItem().color;k.colorImages[a]||(k.colorImages[a]=f);f={type:"updatedData",data:v.getCurrentItem()};y.dispatch("updateView",f);(a=k.colorToAsin[a])&&a.asin&&w.register(b.rankedImagesReadyEvent(a.asin))});return function(a,e,c,h){p=this;k=a;v=e;y=h;k.colorImages[k.landingAsinColor]=
k.colorImages[k.defaultColor];p.render=function(a,d,e,c,h,g,p){F=e;L=c;O=h;f=q(d,a,g);g?0===d&&I(F.find(".item.itemNo0"),v.getCurrentItem()):(a=v.getCurrentItem(),b.lazyLoadingRequired(a,v,k)&&y.dispatch("updateModel",{data:{type:"lazy-loaded"}}));N(v.getCurrentItem(),!g);H(v.getCurrentItem(),p);return f};b.isImageBlockGridViewHoverDelayEnabled()?p.update=function(a){var d=a.data;v.setCurrentEvent(a);"ingress"!==d.type&&"swatchHover"!==a.type&&(v.setToPreviousItem(),"mouseenter"===a.type?(M&&clearTimeout(M),
M=setTimeout(function(){v.setToCurrentItem(d);N(a.data,!1)},b.getHoveringDelayTimer())):"mouseleave"===a.type?M&&clearTimeout(M):"click"===a.type&&(v.setToCurrentItem(d),N(a.data,!1)));"swatchHover"===a.type?("ingress"!==d.type&&N(a.data,!1),d.color===v.getCurrentItem().color?H(v.getCurrentItem()):a.captured||-1===P(d)||(a.captured=!0)):"image"===d.type&&(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type?(m.postCountMetric("dpcc_imageThumbHovered_"+(d.thumbnailIndex+1)+"_"+f),A&&clearTimeout(A),
A=setTimeout(function(){H(d);k.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,L)},b.getHoveringDelayTimer())):"mouseleave"===a.type?A&&clearTimeout(A):"click"===a.type&&(H(d),b.selectGivenThumbnail(a.$declarativeParent,L),m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(d.thumbnailIndex+1)+"_"+f)))}:p.update=function(a){var d=a.data;v.setCurrentEvent(a);"ingress"!==d.type&&N(a.data,!1);"swatchHover"===a.type?d.color===v.getCurrentItem().color?
H(v.getCurrentItem()):a.captured||-1===P(d)||(a.captured=!0):"image"===d.type&&(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(d.thumbnailIndex+1)+"_"+f),H(d),k.usePeekHover&&"click"!==a.type||(b.selectGivenThumbnail(a.$declarativeParent,L),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(d.thumbnailIndex+1)+"_"+f))))};k.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");
y.register("imageHover",d);y.register("resize",R)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(c,a,b,e,m,h){function n(a){P?a.css("cursor","url('"+I.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function g(a){var e=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(e))for(var e=e[1].split("_"),
d=0;d<e.length;d++){var c=e[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(c)&&(a[c[1]]=parseInt(c[2],10))}return a}function q(l,q){function d(){var a;q.useClickZoom?(a=q.offsetInClickZoom,a=[Math.min(1,Math.max(0,D[0]-(E[0]+a))/(E[2]-2*a)),Math.min(1,Math.max(0,D[1]-(E[1]+a))/(E[3]-2*a))]):a=f&&f.updatePosition();if(a&&x&&x.detailSize){var b=[x.detailSize[0]-x.rect.width,x.detailSize[1]-x.rect.height];c.capabilities.rtl?x.detailImage.get(0).style.right=-(a[0]*b[0])+"px":x.detailImage.get(0).style.left=
-(a[0]*b[0])+"px";x.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function p(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function k(f){var b=T?f.originalEvent.touches[0]||f.originalEvent.changedTouches[0]:"";D=T?[b.pageX,b.pageY]:[f.pageX,f.pageY];if(c.capabilities.rtl){var d=a(r).width();D=T?[d-b.pageX,b.pageY]:[d-f.pageX,f.pageY]}}function v(a){T&&a.preventDefault();k(a);q.useClickZoom?a=[E[0],E[1],E[0]+E[2],E[1]+E[3]]:(a=f?f.offset:l.offsetParent().offset(),a=I.acEnabled?
[a.left,a.top,C.width()+a.left,C.height()+a.top]:[B[0]+a.left,B[1]+a.top,B[0]+B[2]+a.left,B[1]+B[3]+a.top]);D[0]<a[0]||D[1]<a[1]||D[0]>=a[2]||D[1]>=a[3]||I.acEnabled&&!p(l)?(q.fadeMagnifier?Y||(Y=!0,ea=setTimeout(function(){y(!0)},500)):q.useClickZoom||y(),z&&(z=!1,clearTimeout(ba))):(z||(z=!0,ba=setTimeout(function(){e.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&h.logHoverZoomRequestServed(m)},1E3)),q.fadeMagnifier&&Y&&(Y=!1,clearTimeout(ea)),d())}function y(b){b&&u.suppressMagnifier(!0);
if(H&&(x&&x.hide(),f&&(f.destroy(),f=null),H=!1,T?(l.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),J(),b))l.one("click.magnifier touchstart.magnifier",function(a){A(a,!0)})}function A(b,c){c&&u.suppressMagnifier(!1);if(!H&&!W&&(0===w&&(e.postCountMetric("dppc_hoverTime",new Date-(r.ue&&r.ue.t0||0)),w=1),da[U]||(e.postCountMetric("dppc_hoverMain"),da[U]=1),
B=[l.position().left,l.position().top,l.width(),l.height()],U&&(k(b),x?x.refit().show():x=new oa,q.useClickZoom||(f=f||new V),E=x.getWindowSize(),d()),H=!0,T?(l.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",v).bind("touchend.magnifier",y),a(document).trigger("engaged.magnifier")):(I.acEnabled?C.unbind("mousemove.magnifier"):l.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",v)),c)){var h=a("#zoomWindow");if(0<h.length)h.one("click.magnifier touchend.magnifier",
function(a){y(!0)})}}function J(){q.useHoverZoom&&(T?l.bind("touchstart.magnifier touchmove.magnifier",A):I.acEnabled?p(l)&&C.bind("mousemove.magnifier",A):l.bind("mousemove.magnifier",A))}var u=this,C=l.offsetParent(),G={detailImageUrl:l.attr("data-old-hires"),location:"over",locationElement:l,prelaod:"ready",zIndex:50,offsetInClickZoom:50};q=a.extend(G,q);q.adjustment=[10,0,-10,0];var x=null,f=null,D=null,B=null,E=null,K={"null":1,"":1,undefined:1},H=!1,W=!1,U=q.detailImageUrl,T=q.useHoverZoomIpad||
0,w=0,da={},V=function(){function f(a){var b=Math.round(Math.min(l.width(),x.rect.width/a));a=Math.round(Math.min(l.height(),x.rect.height/a));h.css({width:b,height:a});d=[b,a]}var b=this,d=[0,0],e=(x.detailSize&&x.detailSize[0]||5E8)/B[2],c=(x.detailSize&&x.detailSize[1]||5E8)/B[3],e=c>e?c:e;a("#magnifierLens").remove();var h=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});q.generalImageUrls.zoomLensBackground&&h.css({backgroundImage:"url("+q.generalImageUrls.zoomLensBackground+
")"});I.showMagnifierOnHover?n(h):h.css("cursor","pointer");b.updatePosition=function(){var a=[B[2]-d[0],B[3]-d[1]],f=0>=a[0]?.5:Math.max(0,Math.min(1,(D[0]-d[0]/2-B[0]-b.offset.left)/a[0])),e=0>=a[1]?.5:Math.max(0,Math.min(1,(D[1]-d[1]/2-B[1]-b.offset.top)/a[1])),c=B[0]+Math.round(f*a[0]),a=B[1]+Math.round(e*a[1]);h.get(0).style.left=c+"px";h.get(0).style.top=a+"px";return[f,e]};b.destroy=function(){h.remove()};b.offset=l.offsetParent().offset();f(e);b.updatePosition();h.appendTo(l.parent());x.detailImage[0].complete||
x.detailImage.load(function(){var a=x.detailImage.width()/B[2];f(a);b.updatePosition()})};V.preload=function(){u.preload(q.generalImageUrls.lensBackgroundUrl)};var oa=function(){function f(){var d={};if("over"===q.location){var d=q.useClickZoom,e={},g=a("#leftCol"),p=a("#centerCol"),D=a("#rightCol"),n=a("#hover-zoom-end"),B=a("#actionPanelContainer"),m=b.isjQueryObjDefined(g)?g.outerHeight():p.outerHeight();e.top=b.isjQueryObjDefined(g)?g.offset().top:p.offset().top;e.bottom=m+e.top;e.right=b.isjQueryObjDefined(D)?
D.offset().left:B.offset().left;e.left=d?0:g.offset().left+g.outerWidth();b.isjQueryObjDefined(n)&&n.offset().top>e.bottom&&(e.bottom=n.offset().top);d=e}else"right"===q.location&&(d=l.offset(),d={left:d.left+l.outerWidth(),top:d.top,right:d.left+l.outerWidth()+400,bottom:d.top+400});q.minHeightElement&&(d.bottom=Math.max(d.bottom,d.top+a(q.minHeightElement).outerHeight()));d.bottom=Math.min(d.bottom,a(r).scrollTop()+a(r).height());d.left+=h[0];d.top+=h[1];d.right+=h[2];d.bottom+=h[3];d.width=d.right-
d.left;d.height=d.bottom-d.top;q.enhancedHoverOverlay&&b.isDefined(r.pageXOffset)&&(e=a(r).width(),d.width=e-d.left+r.pageXOffset-18,d.height-=14);k.css({left:d.left,top:d.top,width:d.width,height:d.height});c.rect=d;return c}function e(a){var f=new Image;c.detailSize=[0,0];f.onload=function(){c.detailSize=[f.width,f.height];d()};f.src=a.attr("src");if(0<f.width&&0<f.height)c.detailSize=[f.width,f.height];else if(q.detailImageSize)c.detailSize=q.detailImageSize;else{a=g(f.src);var b=B[2]/B[3];a.SS||
a.AA?(a=a.SS||a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?c.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(c.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var c=this,h=q.adjustment;a("#zoomWindow").remove();var p={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:q.zIndex};q.enhancedHoverOverlay&&(p.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",p.border="1px solid #949494",p.borderColor="rgb(148,148,148)");var k=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(p);
q.fadeMagnifier&&k.fadeIn(200);q.useClickZoom&&(P?k.css("cursor",'url("'+q.zoomOutIcon+'"), auto'):(k.css("cursor","-webkit-zoom-out"),k.css("cursor","-moz-zoom-out"),k.css("cursor","zoom-out")));c.updateImage=function(f){f=a("\x3cimg id\x3d'detailImg' src\x3d'"+f+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();k.append(f);a(document).trigger("updated.magnifier");c.detailImage=f;e(c.detailImage)};c.refit=function(){f();e(c.detailImage);return c};q.fadeMagnifier?(c.show=
function(){k.fadeIn(200);return c},c.hide=function(){k.fadeOut(200);return c}):(c.show=function(){k.show();return c},c.hide=function(){k.hide();return c});c.destroy=function(){k.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,c.rect.height]};c.updateImage(U);f();k.appendTo(document.body)},Y=!1,ea,z=!1,ba;u.preload=function(f){f=a.makeArray(f);for(var b=f.length,d=0;d<b;d++)f[d]instanceof Array?u.preload(f[d]):"string"===typeof f[d]&&f[d]&&!K[f[d]]&&(K[f[d]]=
new Image,K[f[d]].src=f[d])};u.changeImage=function(f,d){H&&y();U=d;l.attr("src",f);u.preload(f);B=[l.position().left,l.position().top,l.width(),l.height()];d&&("immediately"===q.preload?u.preload(d,!0):a(r).ready(function(){u.preload(d)}),x?x.updateImage(d):l.attr("data-old-hires",d))};u.destroy=function(){I.acEnabled?C.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):l.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");
f&&f.destroy();f=null;x&&x.destroy();x=null};u.detailImage=function(){return x.detailImage};u.suppressMagnifier=function(a){W=a};u.isEngaged=function(){return H};u.engageMagnifier=A;u.disengageMagnifier=y;l[0].complete?J():l.one("load",J);u.preload(l.attr("src"));r.performance&&performance.now&&r.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(q.preload){var ja=q.detailImageUrl,G=function(){u.preload(ja,!0);q.useClickZoom||V.preload()},X=q.preload;X.constructor!==Array&&(X=[X]);
for(var t=0;t<X.length;t++)if("immediately"===X[t])G();else if(a(r)[X[t]])a(r)[X[t]](G);else a(r).bind(X[t],G)}return u}function l(){if(I.useHoverZoom){var c={adjustment:[0,0,1,1],generalImageUrls:I.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:I.useHoverZoomIpad,useHoverZoom:I.useHoverZoom,useClickZoom:I.useClickZoom,fadeMagnifier:I.fadeMagnifier,zoomOutIcon:I.staticImages.zoomOutCur,enhancedHoverOverlay:I.enhancedHoverOverlay||I.atfEnhancedHoverOverlay};
C&&(C.destroy(),C=fa);var e=H.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(e)?I.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(a){C=new q(e,c);C.engageMagnifier(a,!0)}),P?e.css("cursor",'url("'+I.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):C=new q(e,c):m.isEnabled&&h.logHoverZoomApplicability(a,m)}}var J,
I,G,u,C,H,P=navigator.userAgent.match(/msie|trident/i);return function(a,b,d,c){J=this;I=a;G=b;m.refToModel=G;u=c;J.render=function(a,d,b,c,e,h){H=b;C&&(C.destroy(),C=fa)};J.update=function(a){};u.register("loadMagnifier",l);u.register("resize",l)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(c,a,b,e){function m(a,c,h){a=(a=h?h:b.getColorFromState(c.getState().hovered_variations,g))&&""!==a?a:g.defaultColor;l.dispatch("updateView",{type:"swatchHover",
data:{color:a}});e.postCountMetric("swatchHover")}function h(a,c,h,n){a=(a=n?n:b.getColorFromState(c.getState().selected_variations,g))&&""!==a?a:g.defaultColor;a===q.getCurrentItem().color?"function"===typeof h&&h():(l.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",a);h()}}),e.postCountMetric("swatchClick"))}var n,g,q,l;return function(a,
b,e,u){n=this;g=a;q=b;l=u;c.on("image-block-twister-swatch-hover",m);c.on("image-block-twister-swatch-click",h);n.render=function(a,b,c,e,h){};n.update=function(a){}}});"use strict";w.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(c,a,b,e,m,h,n){function g(f,b,c,h){!d.autoplayVideo||da||d.useChromelessVideoPlayer?!e.isjQueryObjDefined(f.find(".a-button-selected"))&&(c=p.getCurrentItem(),!h||d.prioritizeVideos||
"chromeless-video"===c.type&&d.autoplayVideo)&&(h=e.getVideoHash(c.color,0,d),-1!==h&&(b+=0,k.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:h.variant,type:d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=f.find(".item").get(b),e.selectGivenThumbnail(a(b),f))):(e.selectGivenThumbnail(f.find("img:last"),f),e.fadeToThumbnail(f.find("img").length-1,M,f))}function q(a){var f=p.getCurrentItem().color;if(d.useChildVideos&&!d.colorToVideo[f]){var b=function(){if(a){d.colorToVideo[f]=
a;var b={type:"updatedData",data:p.getCurrentItem()};k.dispatch("updateView",b)}};d.lazyLoadExperienceDisabled?b():w.when(e.rankedImagesReadyEvent(d.colorToAsin[f].asin)).execute(function(){b()})}}function l(a){if(!d.useChildVideos)return e.lazyLoadingRequired(p.getCurrentItem(),p,d)?void 0:d.videos;if(d.colorToVideo[a])return d.colorToVideo[a];var f=d.colorToAsin[a];if(f&&f.asin){var b={};b.params={asin:f.asin,productGroupID:d.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:d.useChromelessVideoPlayer,
isUDP:d.isUDP};d.isDPXFeatureEnabled||(b.success=function(a){q(a)},m.load("/gp/product/features/apparel-main-image/videos.html",b));return d.colorToVideo&&d.colorToVideo[a]}}function J(){F&&(F.hide(),y.parent().css("z-index",-1),A.hide())}function I(){k.dispatch("selectThumbnail",e.useTabbedImmersiveView(d)?1:0)}function G(f,d,c,g){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:f[0],streamingUrls:d.url,swfUrl:c.swfUrl,foresterMetadataParams:c.foresterMetadataParams,backgroundColor:"transparent",
flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=e.isjQueryObjDefined(f.find("video"))?"HTML5":"FLASH";h.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){f.parent().css("z-index",8)},videounsupported:function(){I();h.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){I();h.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){F.seek(0)}},cuePoints:[{values:d.durationSeconds-1,type:"position",
callback:function(b,d,c){b=c.durationSeconds-c.playheadTimeSeconds;f.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*b,.1,function(){f.parent().css({"background-color":"transparent","z-index":-1});I();a(this).show().css("opacity",1)})}}]})}function u(f){if("chromeful-video"===f.type||"chromeless-video"===f.type){var b=e.getVideoHash(f.color,f.index,d);if(-1===b)return-1;if("chromeful-video"===f.type){f=f.thumbnailIndex+1;var h=M.width()/M.height(),g=parseInt(b.videoWidth,
10),k=parseInt(b.videoHeight,10);e.updateAspectRatio(h,g,k,y);F?(F.show(),e.loadMediaIntoAiry(F,b,O,d.tabletWeb)):F=d.tabletWeb?D:e.createAiryInstanceForChromefulNotUseTabbedImmersiveView(y,b,O,null,d.autoplayVideo,M,A,v,f,d.useTabbedImmersiveView,E,B,K);b:if(e.useTabbedImmersiveView(d)){if(1<e.getVideosCount(p.getCurrentItem().color,d)){if(e.isDefined(L)){A.show();break b}L=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(d.staticStrings.watchMoreVideos);A.find("#videoCaption").append(L);
c.declarative.create(L,"videoIngressClick",x)}e.playVideoInImmersiveView(d,p.getCurrentItem().color)&&(c.declarative.create(y,"videoIngressClick",x),y.attr&&y.attr("data-ux-click",""),y.children().css("z-index","-1"),y.css("display","inline-block"))}else A.find("#videoCaption").text(d.staticStrings.playVideo),A.show();b=F;d.autoplayVideo&&b&&!da&&(e.toggleVideoCaption(A),b.setVolume(0),b.show(),b.play(),da=!0)}else F?(F.show(),e.loadMediaIntoAiry(F,b,O,d.tabletWeb),F.play(),A.show()):(F=G(y,b,O))&&
F.play()}}function C(f,b,k){var p=l(b);b=f;var D=e.isDefined(p)&&0<p.length&&d.alwaysIncludeVideo?1:0;e.isDefined(p)&&0<p.length&&!d.alwaysIncludeVideo&&f===d.maxAlts&&h.postCountMetric("IBVideoDrop");D&&f===d.maxAlts&&(v.find(".item:last").remove(),f--);e.isDefined(p)&&(a.each(p,function(b,c){if(f<d.maxAlts){var g=d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",k={type:g,index:b,thumbnailIndex:f,variant:c.variant};x={type:"video-ingress",index:b,thumbnailIndex:f,variant:c.variant};
e.useTabbedImmersiveView(d)&&("chromeful-video"===g&&(V+=" videoBlockIngress  videoBlockDarkIngress",c.thumb=c.thumb.replace("_PKmb-play-button-overlay-thumb","")),d.altsOnLeft||(V+=" a-align-top"));e.isImageBlockGridViewDisplayEnabled()&&(V+=" videoImageBlockGridView");e.createThumbnail(k,c.thumb,v,V);if(2===d.dp60VideoPosition){var D=v,k=d.dp60VideoPosition;if(0!==k){var n=D.children(".imageThumbnail"),D=D.children(".videoBlockIngress");n&&D&&n[k-1]&&a(n[k-1]).before(D[0])}}e.useTabbedImmersiveView(d)&&
(H(v.find(".videoBlockIngress img"),d.videoIngressATFSlateThumbURL),k=1<p.length?"multiple-videos":"one-video",(n=1<p.length?p.length+" "+d.staticStrings.multipleVideos:d.staticStrings.singleVideo)&&v.find(".videoBlockIngress").append(v.find("#videoCount_template").clone().text(n).attr("id","videoCount")).addClass(k));k=h.buildNexusMetric("ib.thumbnailImpression",f+1,c.mediaObjectId,c.groupType,E,B,K,S);h.emitNexusMetric(k);k=h.buildNexusMetric("ib.thumbnailRender",f+1,c.mediaObjectId,c.groupType,
E,B,K,S);h.emitNexusMetric(k);ca||(ca=!0,h.postCountMetric("chromeless-video"===g?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));f++}if(e.useTabbedImmersiveView(d))return!1}),g(v,b,f,k),d.imageBlockRenderingStartTime&&h.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",c.now()-d.imageBlockRenderingStartTime));return f}function H(a,f){var b=a.attr("src");if(b&&f){a.attr("src",f);var d=new Image;d.onload=function(f){a.attr("src",b)};d.src=b}}function P(a){F&&F.pause();
a.data=x;a.clickTimeStamp=a.$event.timeStamp;var f="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";k.dispatch("imageClick",a);h.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=h.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,d.videos[0].mediaObjectId,d.videos[0].groupType,E,B,K,S);h.emitNexusMetric(a);h.postCountMetric(f)}function N(a){D=a.player;D.hide=function(){D.pause();c.$("#main-video-container").find(".vse-player-container").hide()};D.show=
function(){c.$("#main-video-container").find(".vse-player-container").show();D.play()};D.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}var R,d,p,k,v,y,A,M,L,F,O,x,f,D,B,E,K,S,W,U,T,ca=!1,da=!1,V="videoThumbnail";return function(b,g,D,m){R=this;d=b;p=g;k=m;O=d.airyConfig;K=d.contentWeblab&&d.contentWeblab+":"+d.contentWeblabTreatment;d.colorToVideo={};d.colorToVideo[d.landingAsinColor]=d.colorToVideo[d.defaultColor]=d.videos;d.tabletWeb?(W="tablet",S="applicationType.ImageBlock.vse_ib_tablet_web"):
c.capabilities.tablet?(W="tablet",c.capabilities.isAmazonApp&&(S="applicationType.ImageBlock.vse_ib_tablet_app")):(W="desktop",S="desktop_web.ImageBlock.vse_ib_iv");R.render=function(b,h,g,k,D,m){J();v=k;y=D.find("#main-video-container");A=y.parent().find("#video-canvas-caption");M=a("#main-image-container");E=r.location.href;g=p.getCurrentItem().color;!0===m?B=d.mediaAsin:(B=d.colorToAsin[g]&&d.colorToAsin[g].asin,B=e.isDefined(B)?B:d.mediaAsin);d.useChromelessVideoPlayer||y.addClass("chromeful-container");
f=C(h,b,m);u(p.getCurrentItem());e.useTabbedImmersiveView(d)&&c.declarative("videoIngressClick",["click"],P);g=p.getCurrentItem().color;b=e.getVideoHash(g,0,d);-1!==b&&d.tabletWeb&&(b=e.getNilgiriServiceAjaxRequest(d,g,b),n.get(c,"#main-video-container",b,function(){c.$("#main-video-container").find(".vse-player-container").hide()},function(){c.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return f};e.isImageBlockGridViewHoverDelayEnabled()?R.update=function(a){var b=a.data;"ingress"===
b.type||"swatchHover"===a.type||e.lazyLoadingRequired(b,p,d)||(p.setToPreviousItem(),"mouseenter"===a.type?(T&&clearTimeout(T),T=setTimeout(function(){p.setToCurrentItem(b);J()},e.getHoveringDelayTimer())):"mouseleave"===a.type?T&&clearTimeout(T):"click"===a.type&&(p.setToCurrentItem(b),J()));if("swatchHover"===a.type)"ingress"===b.type||e.lazyLoadingRequired(b,p,d)||J(),b.color===p.getCurrentItem().color?u(p.getCurrentItem()):a.captured||e.lazyLoadingRequired(b,p,d)&&!e.lazyLoadOnHoverEnabled(d)&&
u(p.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type){var g=e.getVideoHash(b.color,b.index,d);"mouseenter"===a.type?(h.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+f),"chromeless-video"===b.type&&(g=h.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,g.mediaObjectId,g.groupType,E,B,K,S),h.emitNexusMetric(g)),U&&clearTimeout(U),U=setTimeout(function(){u(b);!d.usePeekHover&&c.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&e.selectGivenThumbnail(a.$declarativeParent,
v)},e.getHoveringDelayTimer())):"mouseleave"===a.type?U&&clearTimeout(U):"click"===a.type&&(u(b),c.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(e.selectGivenThumbnail(a.$declarativeParent,v),g=h.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,g.mediaObjectId,g.groupType,E,B,K,S),(!e.useTabbedImmersiveView(d)&&"chromeless-video"===b.type||"tablet"==W)&&h.emitNexusMetric(g),e.useTabbedImmersiveView(d)&&(h.emitNexusMetric(g),h.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+
1)+"_"+f),x.action="videoIngressClick",x.clickTimeStamp=a.$event.timeStamp,x.$event=a.$event,x.$currentTarget=a.$currentTarget,k.dispatch("videoIngressClick",x),h.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:R.update=function(a){var b=a.data;"ingress"===b.type||e.lazyLoadingRequired(b,p,d)||J();if("swatchHover"===a.type)b.color===p.getCurrentItem().color?u(p.getCurrentItem()):a.captured||e.lazyLoadingRequired(b,p,d)&&!e.lazyLoadOnHoverEnabled(d)&&u(p.getCurrentItem());else if("chromeful-video"===
b.type||"chromeless-video"===b.type){var g=e.getVideoHash(b.color,b.index,d);if("mouseenter"===a.type&&(h.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+f),"chromeless-video"===b.type)){var D=h.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,g.mediaObjectId,g.groupType,E,B,K,S);h.emitNexusMetric(D)}u(b);d.usePeekHover&&"click"!==a.type||!c.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(e.selectGivenThumbnail(a.$declarativeParent,v),"click"===a.type&&(g=
h.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,g.mediaObjectId,g.groupType,E,B,K,S),(!e.useTabbedImmersiveView(d)&&"chromeless-video"===b.type||"tablet"==W)&&h.emitNexusMetric(g),e.useTabbedImmersiveView(d)&&(h.emitNexusMetric(g),h.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+f),x.action="videoIngressClick",x.clickTimeStamp=a.$event.timeStamp,x.$event=a.$event,x.$currentTarget=a.$currentTarget,k.dispatch("videoIngressClick",x),h.postTimeMetric("dpcc_vse_videoingressclick",
a.$event.timeStamp))))}};if(d.isDPXFeatureEnabled)c.on("triggerVideoAjax",q);c.on("vsePlayer-imageblock_tablet",N)}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,a,b,e,m,h,n,g){function q(a){return a.hiRes||a.large||a.main[a.main.length-1]}function l(){t.find("#ivTitle").click(function(){X.hide()})}function J(){Q=Pa?{type:"360-spin"}:ba.getCurrentItem()}
function I(){var a=t.find("#ivStage"),b=X.$container.find(".a-popover-wrapper"),f=b.find(".a-popover-inner"),b=b.height()-g.getDimension(f,"padding-top")-g.getDimension(f,"padding-bottom");t.css("height",b);var f=t.find("#ivTitle").outerHeight(!0),d=t.find("#ivVariationSelection").outerHeight(!0),c=t.find("#ivMediaSelection").outerHeight(!0),e=t.find("#ivThumbs"),h=g.getDimension(e,"margin-top")+g.getDimension(e,"margin-bottom");e.css("height",b-f-d-c-h);t.find("#ivLargeImage").css("height",b);a.css("width",
t.width()-g.getDimension(t,"padding-left")-g.getDimension(t,"padding-right")-t.find("#ivThumbColumn").width()-g.getDimension(a,"margin-left")-g.getDimension(a,"margin-right"))}function G(){t.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(t.find("#ivVideoList").hide(),t.find("#ivThumbs").show(),t.find(".ivThumbVideo").show(),"chromeful-video"===Q.type&&t.find("#ivVideo_"+Q.index).click()):"images"===b?(t.find("#ivVideoList").hide(),t.find("#ivThumbs").show(),t.find(".ivThumbVideo").hide(),
"chromeful-video"===Q.type&&(0===ga&&0===aa?t.find("#iv360").click():0===ga?t.find("#ivHeroImage_0").click():t.find("#ivImage_0").click())):"videos"===b&&(t.find("#ivVideoList").show(),t.find("#ivThumbs").hide(),"chromeful-video"!==Q.type?t.find("#ivVideoList_0").click():t.find("#ivVideoList_"+Q.index).click())})}function u(){var a=t.find("#ivStage").find("#ivLargeImage"),b=a.width(),f=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var c=d.width(),e=d.height();0<d.length&&(d[0].naturalWidth&&
(c=d[0].naturalWidth),d[0].naturalHeight&&(e=d[0].naturalHeight));a.css("cursor","auto");var c=0===c?1:c,e=0===e?1:e,h=Math.min(b/c,f/e),g=e*h,k=c*h;1>h?(Qa?a.css("cursor","url('"+z.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;c=Math.min(k,c);e=Math.min(g-20,e);d.css({"margin-top":(f-e)/2,"margin-left":(b-c)/2,height:e,width:c});a.css("visibility","visible");Aa=!1}function C(a){var b=t.find("#ivLargeImage");
b.css("visibility","hidden");b.empty();g.animateStageIn(b);b.append(a);u()}function H(){ha&&ha.pause();t.find("#ivLarge360").css("display","none");t.find("#ivLargeVideo").css("display","none");t.find("#ivLargeImage").css("display","none");v()}function P(f){H();t.find("#ivLargeImage").css("display","block");var d;"hero-image"===f?b.isDefined(ka)&&(d=q(ka[Q.index])):b.isDefined(la)&&(d=q(la[Q.index]));if(b.isDefined(d)){t.find(".fullscreen").remove();var c=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),
e=t.find("#ivLargeImage");g.animateStageOut(e,function(){c.load(function(){C(c)});if(c[0].complete)C(c);else{e.empty();var b=(e.height()-104)/2,f=(e.width()-80)/2;a("\x3cimg\x3e").attr("src",z.staticImages.spinner).css({position:"relative",top:b+"px",left:f+"px"}).appendTo(e)}})}}function N(){var a=parseInt(Q.index,10)+1;a>=ia.length||t.find("#ivVideo_"+a).click()}function R(){var a;b.isDefined(ia)&&(a=ia[Q.index]);if(b.isDefined(a)){H();var f=t.find("#ivLargeVideo").css("display","block");ha?(ha.isDetached()&&
ha.attach(f[0]),b.loadMediaIntoAiry(ha,a,wa,z.tabletWeb),ha.show()):(ha=b.createAiryInstanceForChromeful(f,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ha.bind("ended",N));ha.play({isAsync:!0})}}function d(){J();var a;a="hero-image"===Q.type?t.find("#ivHeroImage_"+Q.index):"image"===Q.type?t.find("#ivImage_"+Q.index):"chromeful-video"===Q.type||"chromeless-video"===Q.type?t.find("#ivVideo_"+Q.index):"360-spin"===Q.type?t.find("#iv360"):b.isDefined(ka)?t.find("#ivHeroImage_"+Q.index):t.find("#ivImage_"+
Q.index);b.isjQueryObjDefined(a)||(a=t.find("#ivImage_0"));p(a)}function p(a){t.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(Q.type="chromeful-video",Q.index=a.attr("id").split("_")[1],R()):a.hasClass("ivHeroImage")?(Q.type="hero-image",Q.index=a.attr("id").split("_")[1],P(Q.type)):a.hasClass("iv360Image")?(Q.type="360-spin",Q.index=0,k()):(Q.type="image",Q.index=a.attr("id").split("_")[1],P(Q.type))}function k(){H();t.find("#ivLarge360").css("display",
"block");F();var a=t.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});g.animateStageIn(a)},200);A();m.postCountMetric("dppc_click360");ta=Date.now()}function v(){0<ta&&(y("dppc_duration360",Date.now()-ta),ta=0)}function y(a,b){r.ue&&r.ue.count(a,b)}function A(){if(0<qa){var a=t.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function M(b,f){if(qa<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});
d.hide();f.append(d);d.get(0).onload=function(){f.closest(document.documentElement).length&&(qa++,1===qa&&(A(),0<ta&&y("dppc_loadTime360",Date.now()-ta)),0<Ga&&y("dppc_perSpriteloadTime360",Date.now()-Ga),t.find("#iv360Spinner").hide(),d.show(),xa=5*Z.imageLocations[Math.floor(ya/Z.imageLocations[0].length)][ya%Z.imageLocations[0].length],M(b,f))};d.attr("src",b[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function L(a){if(b.isDefined(Z.spriteWidthSizes)&&0<Z.spriteWidthSizes.length){var f=
Z.spriteWidthSizes,d=f.length,c=f[0],e=f[d-1];if(a<=c)return c;if(a>e)return e;for(c=0;c<d;c++)if(a>f[c]&&a<=f[c+1])return f[c+1]}else return a}function F(){var b=t.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
z.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ha=!0,O())}function O(){if(b.isDefined(Z.spriteURLs)&&b.isDefined(t)&&Ha&&!Ia){var d=t.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(Z.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
Z.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(z.staticStrings.dragToSpin).appendTo(c);c.appendTo(d);var c=Z.imageWidth,e=Z.imageHeight,h=d.parent().width(),g=d.parent().height(),k=0,p=0;c/e>h/g?(ua=L(h),va=Math.round(e/c*ua),na=Math.ceil(h),sa=Math.ceil(va/ua*h),p=(g-sa)/2):(va=L(g),ua=Math.round(c/e*va),sa=Math.ceil(g),na=Math.ceil(ua/va*g),k=(h-na)/2);d.css({"margin-left":k,"margin-top":p,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});
d.children("#image-360-sprites").css("width",6*na+"px");M(Z.spriteURLs,t.find("#image-360-sprites"),0);c=t.find("#ivLarge360");c.bind("mousedown",B);c.bind("touchstart",x);c.bind("touchmove",f);c.bind("touchend",D);a(document).bind("mousemove",E);a(document).bind("mouseup",K);b.isDefined(z.staticImages.grab)&&d.css("cursor","url('"+z.staticImages.grab+"'), auto");Ia=!0}}function x(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function f(a){Ba&&(S(a.originalEvent.targetTouches[0].clientX-Ja),
Ja=a.originalEvent.targetTouches[0].clientX)}function D(a){Ba&&(Ba=!1)}function B(a){Ca=!0;Ka=a.originalEvent.clientX;b.isDefined(z.staticImages.grabbing)&&(a=t.find("#ivLarge360"),a.css("cursor","url('"+z.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+z.staticImages.grabbing+"'), auto"));return!1}function E(a){Ca&&(S(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function K(a){Ca&&(Ca=!1,b.isDefined(z.staticImages.grab)&&(a=t.find("#ivLarge360"),
a.css("cursor","url('"+z.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function S(a){for(a=xa-=a/na*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var f;a=360;for(var d=0;d<qa;d++)for(var c=0;c<Z.imageLocations[d].length;c++){var e=Math.abs(xa-5*Z.imageLocations[d][c]);e<a&&(a=e,f=d*Z.imageLocations[0].length+c)}f!==ya&&(a=Math.floor(f/Z.imageLocations[0].length),a!==Math.floor(ya/Z.imageLocations[0].length)&&(b.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),
d=t.find("#image-360-sprites").children(),La.drawImage(d[a],0,0)),a=t.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=f;a=f%Z.imageLocations[0].length*-1*na;f=-1*Math.floor(f/Z.imageLocations[0].length)*sa;d=t.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");d.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function W(){t.delegate(".ivThumb","click",function(){var b=
a(this);p(b)});t.delegate(".ivThumbVideoListOuter","click",function(){t.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");Q.type="chromeful-video";Q.index=b.attr("id").split("_")[1];R()})}function U(){ha&&!ha.isDetached()&&(wa.volume=ha.getVolume(),ha.detach(),!document.all||r.atob||document.addEventListener||(ha=null));t.find("#ivLargeImage").empty();v()}function T(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function ca(b){var f=ra.left-(b.pageX-Da[0])*
Ea;c.capabilities.rtl&&(f=ra.left-(a(r).width()-b.pageX-Da[0])*Ea);b=ra.top-(b.pageY-Da[1])*Ea;f=T(f,Fa.left);b=T(b,Fa.top);t.find(".fullscreen").css({left:f,top:b})}function da(){t.delegate("#ivLargeImage","click",function(a){if(Aa)u();else if(za){t.find(".fullscreen").removeAttr("style");if(za){var b=t.find("#ivLargeImage"),f=b.find(".fullscreen");Qa?b.css("cursor","url('"+z.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));
Aa=!0;var d=t.find("#ivLargeImage");Fa.left=d.width()-f.width();Fa.top=d.height()-f.height();var d=b.height()/2,c=b.width()/2;Da=[b.offset().left+c,b.offset().top+d];ra.top=d-f.height()/2;ra.left=c-f.width()/2;f.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(f.height()/b.height(),f.width()/b.width())}ca(a)}});t.delegate("#ivLargeImage","mousemove",function(a){Aa&&ca(a)})}function V(f){if(b.isImmersiveViewEnabled(z,ba.getCurrentItem().color))if(Ma){var d=f.$event.originalEvent;d.acknowledge&&
d.acknowledge(f.$currentTarget[0]);Pa=b.isDefined(f)&&"button-360-click"===f.action;h.isEnabled&&n.logImmersiveViewRequestServed(h);m.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(X))X.show();else{f=a("#auiImmersiveViewDiv");var d=a(r).height()-150,e=a(r).width()-75;X=Ma.create(f,{name:"immersiveView",activate:"onclick",width:e,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(Na){t=a("#ivMain");f=ba.getCurrentItem().color;la=z.colorImages[f];ka=z.heroImage[f];ia=z.useChildVideos?
z.colorToVideo[f]:z.videos;Oa=Y()&&z.spin360ColorEnabled[f];Z=Y()?z.spin360ColorData[f]:fa;J();ma=aa=pa=ga=0;b.isDefined(ka)&&(aa=ka.length);b.isDefined(la)&&(ga=la.length);b.isDefined(ia)&&(pa=ia.length);Oa&&(ma=1);g.populateTitle(t.find("#ivTitle"),45,z);g.populateVariationSelection(t.find("#ivVariationSelection"));f=t.find("#ivMediaSelect");0===ga+ma||0===pa?(f.parent().hide(),t.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",
!0).text(z.staticStrings.allMedia+" ("+(aa+ga+ma+pa)+")").appendTo(f),a("\x3coption/\x3e").attr("value","images").text(z.staticStrings.images+" ("+(aa+ga+ma)+")").appendTo(f),a("\x3coption/\x3e").attr("value","videos").text(z.staticStrings.videos+" ("+pa+")").appendTo(f),f.parent().show(),f.val("all"));f=t.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var d=aa+ga+pa+ma,k=e=0;e<d;)for(var p=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),D=0;3>D&&e<
d;D++,e++,k++)if(k<aa){var B=ka[e].thumb,l=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+e).appendTo(p);l.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(B)+'") center no-repeat')}else if(k>=aa&&k<ga+aa)B=la[e-aa].thumb,l=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-aa)).appendTo(p),l.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(B)+'") center no-repeat');
else if(k>=aa+ga&&k<ga+aa+ma)l=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(p),l.find(".ivThumbImage").css("background",'url("'+(b.isDefined(z.staticImages.icon360)?g.getResizedThumbnailURL(z.staticImages.icon360,!0):"")+'") center no-repeat');else if(B=ia[e-ga-aa-ma],l=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(e-ga-aa-ma)).appendTo(p),l.find(".ivThumbImage").css("background",
'url("'+B.thumbUrl+'") center no-repeat'),b.isDefined(B)){var q={position:"triggerTop"},v=t.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");v.find(".ivVideoPopoverTitle").text(B.title);v.find(".ivVideoPopoverDuration").text(B.durationTimestamp);q.inlineContent=v[0];c.declarative.create(l,"a-tooltip",q)}f=t.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();d=f.find(".placeholder");for(e=0;e<pa;e++)k=ia[e],p=d.clone().removeClass("placeholder").appendTo(f),
p.attr("id","ivVideoList_"+e),p.find(".ivThumbImage").css("background",'url("'+k.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(k.title),p.find(".ivThumbDuration").text(k.durationTimestamp);t.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=z.airyConfig;Na=!1;Ra()}}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function oa(a){var f=
z.colorToAsin[a],d={},c=500;if(f&&f.asin){d.params={asin:f.asin};var h="360"+f.asin,g=Date.now();d.success=function(f){y("dppc_asyncRequestTime360",Date.now()-g);f&&b.isDefined(f.spin360.spin360Model)?(b.ajaxState(h,"success"),z.spin360ColorData[a]=f.spin360.spin360Model,a===ba.getCurrentItem().color&&(Z=z.spin360ColorData[a],O())):d.error()};d.error=function(){m.postCountMetric("dppc_asyncFailed360");y("dppc_asyncRequestTime360",Date.now()-g);c*=2;16E3>=c?setTimeout(function(){g=Date.now();e.load("/gp/product/features/apparel-main-image/360.html",
d)},c):b.ajaxState(h,"fail")};b.ajaxState(h)&&"fail"!==b.ajaxState(h)||(e.load("/gp/product/features/apparel-main-image/360.html",d),b.ajaxState(h,"sent"))}}function Y(){return b.isDefined(z.spin360ConfigEnabled)&&z.spin360ConfigEnabled}var ea,z,ba,ja,X,t,ka,la,ia,aa,ga,pa,ma,Q,ha,wa,Z,Oa,na,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;w.when("a-modal").execute(function(a){Ma=a});var Ra=
c.once(function(){G();W();da();c.on("a:popover:afterUpdatePosition:immersiveView",I);c.on("a:popover:afterShow:immersiveView",d);c.on("a:popover:afterHide:immersiveView",U);l()});return function(f,d,e,k){ea=this;z=f;ba=d;h.refToModel=ba;ja=k;Y()&&(z.spin360ColorData[z.landingAsinColor]=z.spin360ColorData[z.defaultColor],z.spin360ColorEnabled[z.landingAsinColor]=z.spin360ColorEnabled[z.defaultColor]);b.isDefined(z.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
g.addStyleCodeToURL(z.staticImages.icon360,"_FMpng_RI_"));ea.render=function(a,f,d,e,h,g){Na=!0;Y()&&z.spin360ColorEnabled[a]&&!b.isDefined(z.spin360ColorData[a])&&(z.spin360ColorData[a]={},oa(a));b.isImmersiveViewEnabled(z,ba.getCurrentItem().color)&&Y()&&z.spin360ColorEnabled[a]&&(f===z.maxAlts&&(a=e.find(".item.imageThumbnail"),d=e.find(".item.videoThumbnail"),b.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),f--),a=e.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
c.declarative.create(a,"button-360-click"),e.append(a),f++,m.postCountMetric("dppc_display360"));return f};ea.update=function(a){};b.isImmersiveViewEnabled(z,ba.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");ja.register("imageClick",V);ja.register("button360Click",V)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,a,b,e,m,h,n){function g(){var b=
G.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner"),b=b.height()-n.getDimension(d,"padding-top")-n.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",b);H=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<H?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
a("#iv-tab-view-container .iv-tab-content").css("height",b);c.trigger("dp:image-block:immersive-view:resize")}function q(){c.trigger("dp:image-block:immersive-view:reset")}function l(d){if(b.isImmersiveViewEnabled(I,G.getCurrentItem().color))if(N){var g=d.$event.originalEvent;g.acknowledge&&g.acknowledge(d.$currentTarget[0]);m.isEnabled&&h.logImmersiveViewRequestServed(m);e.postCountMetric("dppc_immersiveViewOpened");b.isDefined(d)&&("button-360-click"===d.action?a("#iv360TabHeading").click():"videoIngressClick"===
d.action?(P=d.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===d.action?(P=d.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());g=G.getImmersiveViewModalInstance();if(b.isDefined(g))g.show();else{d=a("#auiImmersiveViewDiv");var g=Math.min(Math.max(a(r).height()-150,540),1080),n=Math.min(Math.max(a(r).width()-75,990),1980),g=N.create(d,{name:"immersiveView",activate:"onclick",width:n,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});G.setImmersiveViewModalInstance(g);
d.click()}C&&(C=!1,R(),c.trigger("dp:image-block:immersive-view:init"))}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else e.postCountMetric("immersiveViewNotExistsClickCount")}var J,I,G,u,C=!0,H=0,P,N;w.when("a-modal").execute(function(a){N=a});var R=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",g);c.on("a:popover:afterShow:immersiveView",g);c.on("a:popover:afterHide:immersiveView",
q)}),d=c.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",function(d){var h=b.filter(".iv-active");h.attr("id")!==a(this).attr("id")&&c.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",d);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();h=a(this).find("a").attr("data-iv-tab-view");a("#"+h).show();"ivVideosTab"===h&&(d.clickTimeStamp=P||d.timeStamp);c.trigger("dp:ivTabs:"+h+":select",
d);e.postCountMetric("dppc_"+h);return!1})});return function(a,c,h,g){J=this;I=a;G=c;m.refToModel=G;u=g;J.render=function(a,b,d,c,h,g){e.postCountMetric("dpcc_altThumbs_"+b);C=!0};J.update=function(a){};J.getTitle=function(){};J.getVariationSelectionInfo=function(){};d();b.isImmersiveViewEnabled(I,G.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");u.register("imageClick",l);u.register("button360Click",l);b.useTabbedImmersiveView(I)&&(u.register("videoIngressClick",l),u.register("showroomIngressClick",
l))}});"use strict";w.when("A").register("ImageBlockLoader",function(c){return{load:function(a,b){b=b||{};b.timeout=b.timeout||4E3;c.ajax(a,b)}}});"use strict";w.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(c,a,b,e,m,h,n,g,q){function l(a){return null!==a&&"undefined"!==typeof a}function J(f){var b=0;a.each(f,function(a,f){var d=parseInt(f[1],10);d>b&&(b=d)});
return b}function I(f){var b=0;a.each(f,function(a,f){var d=parseInt(f[0],10);d>b&&(b=d)});return b}function G(a,b,d){b=b.width();if(d.naturalMainImageSize)return b;a=J(a);0<a&&(b=Math.min(b,a));return b}function u(a,b,d){b=b.height();if(d.naturalMainImageSize)return b;a=I(a);0<a&&(b=Math.min(b,a));return b}function C(b){var d;a.each(b,function(a,b){l(d)||(d=b[1]/b[0])});return d||1}function H(f,d,c,h,g,k,p,n,m,l,q,v,A){var y=a.extend({},c.foresterMetadataParams);null!==h&&(y.method+="."+h);var u=
[];d.disabledViewIds&&(u=d.disabledViewIds);return b.embed({parentElement:f[0],streamingUrls:d.url,contentId:d.mediaObjectId,contentMinAge:Number(d.minimumAge||"")||0,contentTitle:d.title,swfUrl:c.swfUrl,foresterMetadataParams:y,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:d.slateUrl,postMediaSlate:d.slateUrl},videoAds:c.videoAds,bindings:{play:function(){if("ImmersiveView"===h)M||(M=!0,e.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(L||(L=!0,e.postCountMetric("dppc_chromefulVideoPlayedPV")),
!l){var a=e.buildNexusMetric("ib.thumbnailClick",m,d.mediaObjectId,d.groupType,q,v,A);e.emitNexusMetric(a)}}},cuePoints:[{values:d.durationSeconds-1,type:"position",callback:function(a,b,f){g&&(P(0,k,n),w(p))}}],disabledViewIds:u})}function P(a,b,d){b.fadeTo(500,0,function(){R(a,d);b.fadeTo(500,1)})}function w(a){a&&a.toggle()}function R(b,d){var c=d.find("img");l(c[b])&&a(c[b]).click()}function d(a,b){x[a]=b?b:x[a];return x[a]}function p(b,d,c){c=c||O;c=c.colorImages;if(1>c.length||!l(c[b])||!l(d))return-1;
var e=-1;a.each(c[b],function(a,b){b.variant===d&&(e=a)});return e}function k(b,d,c){c=c||O;c=c.colorImages;return!(l(c)&&l(c[b])&&l(c[b][d])&&l(c[b][d].main))||1>a.map(c[b][d].main,function(a,b){return b}).length?-1:c[b][d]}function v(a,b,d,c){c.parent().css("z-index",2);0!==d&&0!==b&&(b/=d,a>b?c.css("width",b/a*100+"%"):c.css("height",a/b*100+"%"))}function y(b,d){var c;if(c=b.useIV)c=b.colorImages&&b.colorImages[d]&&0<b.colorImages[d].length?!0:!1;n.isEnabled&&(n.IVApplicaple=c,g.logImmersiveViewApplicability(a,
n));return c}function A(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var M,L,F,O=a.extend(!0,{},m,h),x={};return{isDefined:l,isDefinedAndEmpty:function(a){return l(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return l(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return l(a)?"object"===typeof a&&0<Object.keys(a).length:
!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:C,getMaxHeightOfMainImage:u,getMaxWidthOfMainImage:G,getMaxDimensionsOfMainImage:function(a,b,d){if(d.acEnabled)return[b.height(),b.width()];var c=u(a,b,d);b=G(a,b,d);a=C(a);d=b/a;b=Math.min(b,c*a);c=Math.min(c,d);return[c,b]},getContainerHeight:function(a,b,d){var c=a.get(0);a=0;if(l(c)){a=c.offsetWidth/b;a=Math.min(a,d);var e;b=O.mainImageHeightPartitions;d=O.mainImageMaxSizes;if(l(d)&&l(b)){for(var h=0,g=r.innerHeight||document.documentElement.clientHeight||
document.body.clientHeight,c=0;c<b.length;c++)g>b[c]&&(h=c+1);d.length>=h&&(e=d[h])}l(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(b,d){if(b){d=d||O;var c="";a.each(d.visualDimensions,function(a,d){b[d]&&(c+=" "+b[d])});return c&&c.substring(1)}},createThumbnail:function(a,b,d,e){var h=d.find(".template").clone().removeClass("template").addClass("item"),g=document.createElement("img");g.src=b;h.find(".placeHolder").replaceWith(g);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===
b&&h.addClass("heroImageThumbnail");l(e)&&h.addClass(e);A()&&h&&(e=document.createElement("div"),e.className="imageBlockThumbnailImageGrayOverlay",g.parentNode.insertBefore(e,g));c.declarative.create(h,"thumb-action",a);h.attr&&(h.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(h.attr("data-csa-c-type","uxElement"),h.attr("data-csa-c-element-type","navigational"),h.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(h.attr("data-csa-c-type","uxElement"),h.attr("data-csa-c-element-type",
"navigational"),h.attr("data-csa-c-action","image-block-alt-image-hover")),h.attr("data-csa-c-posy",a.thumbnailIndex+1));d.append(h)},selectGivenThumbnail:function(a,b){var d=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");d.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,d,c,e,h,g,k){H(a,b,d,c,e,h,g,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:H,loadMediaIntoAiry:function(a,
b,d,c){a&&a.getMediaSourceInfo()!==b.url&&(c?a.loadMedia?(F={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(F)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},
showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:P,toggleVideoCaption:w,selectThumbnail:R,spinner:function(b,d){var c=a("#imageBlock .a-spinner").parent();0===c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(c),c.css({position:"absolute",left:"50%",
top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));d?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:d,getIndexForVariant:p,getImageHash:k,lazyLoadingRequired:function(a,b,c){b=Math.max(p(a.color,b.getCurrentItem().variant,c),0);b=-1!==k(a.color,
b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==d(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:v,repositionVideoBanner:function(a,b,d,c){setTimeout(function(){var d=a.width()/a.height();v(d,16,9,b)},c||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,d){if(d.useChildVideos){if(!l(d.colorToVideo))return-1;
a=d.colorToVideo[a]}else a=d.videos;return l(a)&&l(a[b])&&l(a[b].url)?a[b]:-1},isImmersiveViewEnabled:y,playVideoInImmersiveView:function(a,b){return y(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return l(F)?F.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,d){return{requester:"DetailPageTablet",marketplaceID:d.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:d.languageCode,page:"DetailPageTablet",
placement:"ImageBlock",video:{videoURL:d.url,imageURL:d.slateUrl}}},addTag:function(a){r.ue&&r.ue.tag&&r.ue.tag(a)},isShoppableScenesEnabled:function(){return q.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:A,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return 50}}});"use strict";w.when("A","jQuery","imageBlockUtils",
"ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(c,a,b,e){function m(d,c,h,g){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var m=C.getCurrentItem();if(!g||"chromeless-video"!==m.type||!u.autoplayVideo){g=0;if("hero-image"===m.type){g=n(m.color,m.variant);if(-1===g)return;g=-1!==g?g:0}var l=c+g;l>=h&&(g=0,l=c);c=e.getHeroImageHash(u,m.color,g);-1!==c&&(H.dispatch("updateModel",{data:{index:g,thumbnailIndex:l,variant:c.variant,type:"hero-image"}}),c=d.find(".item").get(l),
b.selectGivenThumbnail(a(c),d))}}}function h(d,c,e){if("hero-video"===C.getCurrentItem().type)return d;c=u.heroImage&&u.heroImage[c];var h=d;b.isDefined(c)&&(a.each(c,function(a,c){d<u.maxAlts&&(b.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:c.variant},c.thumb,P,"imageThumbnail"),d++)}),m(P,h,d,e));return d}function n(d,c){var e=u.heroImage;if(1>e.length||!b.isDefined(e[d])||!b.isDefined(c))return-1;var h=-1;a.each(e[d],function(a,b){b.variant===c&&(h=a)});return h}function g(){if(N.length&&
u.repositionHeroImage){var a=e.getHeroDimParams(u,C.getCurrentItem()),c;b.isDefined(a)&&(c=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",N.css({"background-position":c,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function q(a,c,h,g){if(N.length&&a&&c){if("function"===typeof h||g){var n=new Image;n.onload=g?function(){N.css("background-image",'url("'+a+'")')}:h;n.src=a}h=c[1];var n=c[0],m;g||
N.css({"background-image":'url("'+a+'")'});u.repositionHeroImage&&(c=e.getHeroDimParams(u,C.getCurrentItem(),c),b.isDefined(c)&&(h=c.width,n=c.height,m=b.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px "));N.css({"background-position":m,"background-size":h+"px "+n+"px ","max-width":h+"px ","min-height":n+"px ",filter:"","-ms-filter":""})}}function l(b,c,h,g){b=e.getHeroImageHash(u,b,c);if(-1===b)return-1;c=a.map(b.main,function(a,b){return b})[0];q(c,b.main[c],h,g)}function r(a,b,
c){if("hero-image"!==a.type)return-1;var h=n(a.color,C.getCurrentItem().variant),h=-1!==h?h:0;if(-1===e.getHeroImageHash(u,a.color,h))return-1;var g=C.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=h;I(a,b,c)}function I(a,b,h){var g=e.getHeroImageHash(u,a.color,a.index),n;n=a&&R&&c.equals(a,R)?!0:!1;R||(R=a);if(!n&&a||b)l(a.color,a.index,b,h),R=a;N.removeClass("hide-background");c.trigger("dp:image-block:update",g)}var w,u,C,H,P,N,R={};return function(d,
c,e,n){w=this;u=d;C=c;H=n;u.heroImage[u.landingAsinColor]=u.heroImage[u.defaultColor];w.render=function(b,d,c,e,g,n,k){P=e;N=a("#heroImage");b=h(d,b,n);r(C.getCurrentItem(),k,n);return b};w.update=function(a){var d=a.data;"ingress"!==d.type&&N.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=C.getCurrentItem().type,-1!==r(d)&&(a.captured=!0)):"hero-image"===d.type&&(I(d),"click"!==a.type&&u.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,P))};H.register("resize",g)}});
"use strict";w.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(c,a,b){var e,m,h,n;return function(a,q,l,r){e=this;m=a;h=r;e.render=function(a,h,g,l,q,r,J){n=l;e=this;g=m.maxAlts;l=h;q=m.colorImages[a]?m.colorImages[a].length:0;q+=b.getVideosCount(a,m);a=m.heroImage[a];r=0;a&&(r=a.length);a=q+r;a>g&&(g=a-g,a=n.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),g+="+",l={type:"ingress",index:0,thumbnailIndex:h,
variant:""},a.find("#altIngressText").append(g),c.declarative.create(a,"thumb-action",l),n.append(a),l=h++);return l};e.update=function(a){"ingress"===a.data.type&&"click"===a.type&&h.dispatch("imageClick",a)}}});"use strict";w.when("imageBlockUtils").register("ImageBlockState",function(c){return function(a,b,e){this.getImageHash=function(b){var h=e.getCurrentItem();b=c.getIndexForVariant(h.color,b||"MAIN",a);return c.getImageHash(h.color,b,a)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",
function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";w.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(c,a){function b(a,b){var c;if(b.repositionHeroImage){c=a[1];var e=a[0];if(768>=(r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,e*=.7;else{var l=((r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,l=Math.max(Math.min(l,1),0);c*=.7+.3*l;e*=.7+.3*l}c=[c,e]}return c}function e(b,
c,e){var m;if(e.repositionHeroImage){var l=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e=e.heroFocalPoint;if(a.isDefined(e)){m=Math.max((l-Math.min(1500,b))/2,0);var J=Math.max((l-b)/2,0);m-=J;l=Math.max(Math.min(l,1500),1024);m=m+(l-420-23)/2-b/c[1]*e}}return m}function m(b,e,g){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[e])&&a.isDefined(b[e][g])&&a.isDefined(b[e][g].main))||1>c.map(b[e][g].main,function(a,b){return b}).length?-1:b[e][g]}return{getHeroImageHash:m,
getHeroDimParams:function(h,n,g){if(h.repositionHeroImage){if(!a.isDefined(g)){g=m(h,n.color,n.index);if(-1===g)return;n=c.map(g.main,function(a,b){return b})[0];g=g.main[n]}n=b(g,h);h=e(n[0],g,h);return{height:n[1],width:n[0],xPos:h,yPos:75}}}}});"use strict";w.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(c){function a(){this.render=function(){};this.update=function(){}}return function(b,e,m,h){var n=!1,g=new a;w.now("showroom-image-block-view").execute("showroom-image-block-view-decider",
function(a){a!==fa&&(n=!0,g=new a(b,e,m,h))});b&&!0===b.showroomEnabled&&!1===n&&c.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return g}});"use strict";w.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(c,a,b){function e(a,e){var g=c.copy(a);if(b.isDefined(a)&&a.length>e){try{for(var m=-1,l=0;l<a.length;l++){var r=a.charAt(l);if(" "===r||"."===r||"?"===r||";"===r||","===r||":"===r)m=l;if(l===e-4){g=a.substring(0,-1===m?l:m);break}}}catch(w){g=
a.substring(0,e-3)}g+="..."}return g}function m(a,b){var c=a.lastIndexOf(".");return a="_"===a.charAt(c-1)?a.substring(0,c-1)+b+a.substring(c):a.substring(0,c)+"."+b+a.substring(c)}return{getDimension:function(a,b){var c=parseInt(a.css(b),10);return isNaN(c)?0:c},attachTabSelectHandler:function(a,b){c.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){c.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){c.on("dp:image-block:immersive-view:resize",a)},
detachImmersiveViewResizeHandler:function(a){c.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){c.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:m,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,
"");var c="_AA50_";b&&(c+="FMpng_RI_");return m(a,c)},populateVariationSelection:function(c){if(b.isDefined(r.DetailPage)&&b.isDefined(r.DetailPage.StateController)){c.empty();var e=r.DetailPage.StateController.getState(),g=e.variation_label_order,m;for(m in g)if(g.hasOwnProperty(m)){var l=g[m],w=e.selected_variations[l],l=e.variation_display_labels[l];w&&a("\x3cdiv/\x3e").addClass("ivVariations").text(l+":"+w).appendTo(c)}}},populateTitle:function(a,b,c){a.html(c.title);a.attr("title",a.text());
a.html(e(c.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,c,e){r.ueLogError&&r.ueLogError(e,{logLevel:a,attribution:b,message:c})}}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,a,b,e,m){function h(){m.populateTitle(k.find("#ivTitle"),160,d)}function n(){var a=p.getCurrentItem().color;y=d.colorImages[a];
v=d.heroImage[a];A=M=0;b.isDefined(v)&&(A=v.length);b.isDefined(y)&&(M=y.length)}function g(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=k.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var g=e.width(),h=e.height();0<e.length&&(e[0].naturalWidth&&(g=e[0].naturalWidth),e[0].naturalHeight&&(h=e[0].naturalHeight));a.css("cursor","auto");var g=0===g?1:g,h=0===h?1:h,m=Math.min(b/g,c/h),l=h*m,n=g*m;1>m?(F?a.css("cursor",
"url('"+d.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),f=!0):f=!1;g=Math.min(n,g);h=Math.min(l-20,h);e.css({"margin-top":(c-h)/2,"margin-left":(b-g)/2,height:h,width:g});a.css("visibility","visible");x=!1}function l(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();m.animateStageIn(b);b.append(a);q()}function r(c){k.find("#ivLargeImage").css("display","none");k.find("#ivLargeImage").css("display",
"block");var f;"hero-image"===c?b.isDefined(v)&&(f=g(v[L.index])):b.isDefined(y)&&(f=g(y[L.index]));if(b.isDefined(f)){k.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",f).addClass("fullscreen"),h=k.find("#ivLargeImage");m.animateStageOut(h,function(){e.load(function(){l(e)});if(e[0].complete)l(e);else{h.empty();var b=(h.height()-104)/2,c=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",d.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(h)}})}}function w(a){k.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivHeroImage")?L.type="hero-image":L.type="image";L.index=a.attr("id").split("_")[1];r(L.type);e.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(L.index,10)+1)+"_"+(A+M))}function G(){k.delegate(".ivThumb","click",function(){var b=a(this);w(b)})}function u(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function C(a){var b=B.top-(a.pageY-K[1])*E;a=u(B.left-(a.pageX-K[0])*E,D.left);b=u(b,D.top);k.find(".fullscreen").css({left:a,top:b})}function H(){k.delegate("#ivLargeImage",
"click",function(a){if(x)q();else if(f){k.find(".fullscreen").removeAttr("style");if(f){var b=k.find("#ivLargeImage"),c=b.find(".fullscreen");F?b.css("cursor","url('"+d.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));x=!0;var g=k.find("#ivLargeImage");D.left=g.width()-c.width();D.top=g.height()-c.height();var g=b.height()/2,h=b.width()/2;K=[b.offset().left+h,b.offset().top+g];B.top=g-c.height()/2;B.left=h-c.width()/2;
c.css({position:"relative",left:B.left,top:B.top});E=Math.max(c.height()/b.height(),c.width()/b.width())}C(a);e.postCountMetric("dpcc_iv_largeImageCLick")}});k.delegate("#ivLargeImage","mousemove",function(a){x&&C(a)})}function P(){k.find("#ivLargeImage").empty()}function N(c){if(O){k=a("#ivMain");n();L=p.getCurrentItem();h();m.populateVariationSelection(k.find("#ivVariationSelection"));c=k.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var d=A+M,f=0,e=0;f<d;)for(var g=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),
l=0;4>l&&f<d;l++,f++,e++)if(e<A){var q=v[f].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+f,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":f+1}).appendTo(g);r.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(q)+'") center no-repeat')}else e>=A&&e<M+A&&(q=y[f-A].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+
(f-A),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":f-A+1}).appendTo(g),r.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(q)+'") center no-repeat'));S();O=!1}else h();c=a("#ivImagesTab").height();k.css("height",c);d=k.find("#ivTitle").outerHeight(!0);f=k.find("#ivVariationSelection").outerHeight(!0);e=k.find("#ivThumbs");g=m.getDimension(e,"margin-top")+m.getDimension(e,"margin-bottom");
e.css("height",c-d-f-g);k.find("#ivLargeImage").css("height",c);c=k.find("#ivStage");d=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||k.width();c.css("width",d-m.getDimension(k,"padding-left")-m.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-m.getDimension(c,"margin-left")-m.getDimension(c,"margin-right"));L=p.getCurrentItem();c="hero-image"===L.type?k.find("#ivHeroImage_"+L.index):"image"===L.type?k.find("#ivImage_"+L.index):b.isDefined(v)?k.find("#ivHeroImage_"+
L.index):k.find("#ivImage_"+L.index);b.isjQueryObjDefined(c)||(c=k.find("#ivImage_0"));w(c)}var R,d,p,k,v,y,A,M,L,F=navigator.userAgent.match(/msie|trident/i),O=!0,x=!1,f=!1,D={},B={},E,K,O=!0,S=c.once(function(){G();H();m.attachImmersiveViewResizeHandler(N);m.attachTabDeselectHandler("ivImagesTab",P)});return function(b,c,f,e){R=this;d=b;p=c;R.render=function(b,c,d,f,e,g){O=!0;n();0===A+M?m.hideTabHeading("ivImagesTabHeading"):m.unhideTabHeading("ivImagesTabHeading");1===A+M?a("#ivThumbs").hide():
a("#ivThumbs").show()};R.update=function(a){};m.attachTabSelectHandler("ivImagesTab",N)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(c,a,b,e,m,h,n){function g(){A.delegate(".ivThumb","click",function(){var b=a(this);A.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(M.type="chromeful-video",M.index=b.attr("id").split("_")[1])})}
function q(){if(V){var b=a("#ivVideosTab").height();A.css("height",b);var c=A.find(".vse-lb-container");L=b-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(U){A.css({"max-width":Math.floor(1.77*L)});return}var b=A.find(".vse-player-container"),c=A.find(".vse-video-action-strip"),d=A.find(".vse-lb-video-metadata"),f=Math.floor(L-m.getDimension(d,"height")-m.getDimension(c,"height")),e=Math.floor(1.77*f);b.css({"max-height":f,"max-width":e,
marginLeft:"auto",marginRight:"auto"});d.css({"max-width":e,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":e,marginLeft:"auto",marginRight:"auto"})}T&&(b=A.find(".vse-vertical-scroll"),c=m.getDimension(b,"margin-top")+m.getDimension(b,"margin-bottom"),b.css("max-height",L-c))}function l(){w();F&&F.pause();ca=!1;S=!0;D=null;da=!0;V=!1}function w(){ca=!1;F&&F.pause()}function I(d){D=d.clickTimeStamp?d.clickTimeStamp:c.now();b.isDefined(y)&&(y.eventTimestamp=D);ca=!0;W&&(n.get(c,"#ivVideoBlock",
v,X,t),A=a("#ivVideoBlock"),k.getCurrentItem(),M=k.getCurrentItem(),z(),N());q();W=!1;C()}function G(b){W&&(A=a("#ivVideoBlock"),k.getCurrentItem(),M=k.getCurrentItem(),z());ca&&C();q()}function u(a){F=a.player;e.postTimeMetric("vse_ib_desktop_player_initialisation_duration",c.now()-ea);p.imageBlockRenderingStartTime&&e.postTimeMetric("vse_ib_desktop_time_to_player_interactive",c.now()-p.imageBlockRenderingStartTime);V&&(N(),C())}function C(){if(F&&ca&&(A.find(".vse-lb-container").animate({opacity:1},
200),F.play(y),e.postCountMetric("dpcc_vse_videoBlock_video_played"),S)){var a=r.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,e.postTimeMetric("dpcc_vse_vitff",a),S=!1)}}function H(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function P(a){O=a.popover.$popover;V=!0;N()}function N(){if(V&&da&&ca&&F){O.addClass(c.$(O).find(".vse-lb-container").data("cssClass"));var a=y;fa&&(a=Y,fa=!1);c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",
assetSpec:a});q();da=!1}}function R(a){document.getElementsByClassName("videoBlockIngress")[0].click();Y=a;fa=!0}var d,p,k,v,y,A,M,L,F,O,x,f,D,B,E,K,S=!0,W=!0,U=!1,T=!1,ca=!1,da=!0,V=!1,fa=!1,Y,ea=0,z=c.once(function(){g();m.attachImmersiveViewResizeHandler(G);m.attachTabDeselectHandler("ivVideosTab",w);m.attachImmersiveViewResetHandler(l)}),ba=function(c,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");e.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=k.getCurrentItem().color;
c=b.getVideoHash(c,0,p);F||(F=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),c,p.airyConfig,"ImmersiveView"));U=!0;a("#ivVideoBlock").css({"max-width":1.77*L,margin:"0 auto"});ca&&U&&F.play({isAsync:!0})},ja=function(b,c,d){W||n.get(b,"#ivVideoBlock",v,X,t);a("#ivVideoBlockSpinner").addClass("aok-hidden")},X=function(a,b,c){T=!0;q()},t=function(a,b,c){e.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,e,g,l){d=this;p=
a;k=e;d.render=function(a,d,e,g,l,n){a=k.getCurrentItem().color;d=b.getVideoHash(a,0,p);!0===n?x=p.mediaAsin:(x=p.colorToAsin[a]&&p.colorToAsin[a].asin,x=b.isDefined(x)?x:p.mediaAsin);f=null!==p.vseVideoDataSourceTreatment&&"T1"===p.vseVideoDataSourceTreatment?"ASIN":"physicalID";B=p.contentWeblab;E=p.contentWeblabTreatment;K=p.parentAsin||"";W=!0;-1===d?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),v={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:d.marketPlaceID,
locale:d.languageCode,product:{contentID:x,contentIDType:"ASIN",parentContentID:K,parentContentIDType:"ASIN"},video:{contentID:d.mediaObjectId,contentIDType:f,videoURL:d.url,imageURL:d.slateUrl},requestId:p.dpRequestId,weblabContext:[{name:B,assignment:E,ignoreForG2S2Key:!0}],metadata:{ProductTitle:p.title}},y={videoUrl:v.video.videoURL,contentId:v.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(D)?D:c.now(),imageUrl:v.video.imageURL,productAsin:v.product.contentID,index:0},b.isDefinedAndNotEmpty(F)&&
(F.destroy(),F=null),ea=c.now(),h.get(c,"#ivVideoBlock",v,ja,ba))};d.update=function(a){};m.attachTabSelectHandler("ivVideosTab",I);c.on("vsePlayer-detailpage-imageblock",u);c.on("a:popover:afterShow:immersiveView",P);c.on("a:popover:beforeHide:immersiveView",H);c.on("detailpage-imageblock-leave-pip",R)}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(c,a,b,e,m,h,n,g,q){function l(){var b=a("#iv360Tab").height();E.css("height",b);var c=E.find("#ivTitle360").outerHeight(!0),d=E.find("#ivVariationSelection360").outerHeight(!0),f=E.find("#ivThumbs360"),e=n.getDimension(f,"margin-top")+n.getDimension(f,"margin-bottom");f.css("height",b-c-d-e);b=E.find("#ivStage360");c=E[0]&&E[0].getBoundingClientRect&&Math.floor(E[0].getBoundingClientRect().width)||E.width();b.css("width",c-n.getDimension(E,"padding-left")-n.getDimension(E,"padding-right")-
E.find("#ivThumbColumn360").width()-n.getDimension(b,"margin-left")-n.getDimension(b,"margin-right"))}function r(){C();var a=E.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});n.animateStageIn(a)},200);w()}function w(){if(0<t){var a=E.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function G(b,c){if(t<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*S+"px",height:W+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&
(t++,1===t&&(w(),0<z&&(m.time("dppc_loadTime360",Date.now()-z,f.mediaAsin),h.postTimeMetric("dppc_loadTime360",Date.now()-z))),0<ba&&(m.time("dppc_perSpriteloadTime360",Date.now()-ba,f.mediaAsin),h.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ba)),E.find("#iv360Spinner").hide(),d.show(),Y=5*K.imageLocations[Math.floor(ea/K.imageLocations[0].length)][ea%K.imageLocations[0].length],G(b,c))};d.attr("src",b[t].replace(/(\._SP)\d+(,)\d+/,"$1"+T+"$2"+U));ba=Date.now()}}function u(a){if(b.isDefined(K.spriteWidthSizes)&&
0<K.spriteWidthSizes.length){var c=K.spriteWidthSizes,d=c.length,f=c[0],e=c[d-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<d;f++)if(a>c[f]&&a<=c[f+1])return c[f+1]}else return a}function C(){var b=E.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",f.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),V=!0,H())}function H(){if(b.isDefined(K.spriteURLs)&&b.isDefined(E)&&V&&!oa){var c=E.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(K.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",K.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(f.staticStrings.dragToSpin).appendTo(e);e.appendTo(c);var e=K.imageWidth,g=K.imageHeight,h=c.parent().width(),m=c.parent().height(),l=0,n=0;e/g>h/m?(T=u(h),U=Math.round(g/e*T),S=Math.ceil(h),W=Math.ceil(U/T*h),n=(m-W)/2):(U=u(m),T=Math.round(e/g*U),W=Math.ceil(m),S=Math.ceil(T/U*m),l=(h-S)/2);c.css({"margin-left":l,"margin-top":n,width:S+"px",height:W+"px",overflow:"hidden",
position:"relative"});c.children("#image-360-sprites").css("width",6*S+"px");G(K.spriteURLs,E.find("#image-360-sprites"),0);e=E.find("#ivLarge360");e.bind("mousedown",d);e.bind("touchstart",P);e.bind("touchmove",N);e.bind("touchend",R);a(document).bind("mousemove",p);a(document).bind("mouseup",k);b.isDefined(f.staticImages.grab)&&c.css("cursor","url('"+f.staticImages.grab+"'), auto");oa=!0}}function P(a){X=!0;da=a.originalEvent.targetTouches[0].clientX}function N(a){X&&(v(a.originalEvent.targetTouches[0].clientX-
da),da=a.originalEvent.targetTouches[0].clientX)}function R(a){X&&(X=!1)}function d(a){ja=!0;ca=a.originalEvent.clientX;b.isDefined(f.staticImages.grabbing)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+f.staticImages.grabbing+"'), auto"));return!1}function p(a){ja&&(v(a.originalEvent.clientX-ca),ca=a.originalEvent.clientX)}function k(a){ja&&(ja=!1,b.isDefined(f.staticImages.grab)&&(a=E.find("#ivLarge360"),
a.css("cursor","url('"+f.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function v(a){Y-=a/S*180;la&&(m.count("dppc_360dragToSpin",f.mediaAsin),h.postCountMetric("dppc_360dragToSpin"));la=!1;for(a=Y;0>a;)a+=360;for(;360<a;)a-=360;Y=a;var c;a=360;for(var d=0;d<t;d++)for(var e=0;e<K.imageLocations[d].length;e++){var g=Math.abs(Y-5*K.imageLocations[d][e]);g<a&&(a=g,c=d*K.imageLocations[0].length+e)}c!==ea&&(a=Math.floor(c/K.imageLocations[0].length),a!==Math.floor(ea/
K.imageLocations[0].length)&&(b.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),d=E.find("#image-360-sprites").children(),ka.drawImage(d[a],0,0)),a=E.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ea=c;a=c%K.imageLocations[0].length*-1*S;c=-1*Math.floor(c/K.imageLocations[0].length)*W;d=E.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");d.css("transform",
"translate3d("+a+"px, "+c+"px, 0)")}function y(){if(aa){E=a("#ivMain360");var b=D.getCurrentItem().color;M()&&L(b);K=M()?f.spin360ColorData[b]:fa;n.populateTitle(E.find("#ivTitle360"),160,f);n.populateVariationSelection(E.find("#ivVariationSelection360"));E.find("#ivLarge360").empty();t=0;oa=V=!1;ea=Y=0;ga();aa=!1}0!==a("#iv360Tab").height()&&(n.detachImmersiveViewResizeHandler(y),l(),r(),z=Date.now(),ia=la=!0,m.count("dppc_click360",f.mediaAsin),h.postCountMetric("dppc_click360"))}function A(a,c,
d){a=f.colorToAsin[d];var k={},l=500;if(!a||!a.asin)if(d===f.defaultColor)a={asin:f.winningAsin};else return;k.params={asin:a.asin};var n="360"+a.asin,p=Date.now();k.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-p,f.mediaAsin);h.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&g.setData(a),b.ajaxState(n,"success")):k.error()};k.error=function(){m.count("dppc_asyncFailedTransient360",f.mediaAsin);h.postCountMetric("dppc_asyncFailedTransient360");
m.time("dppc_asyncRequestTime360",Date.now()-p,f.mediaAsin);h.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);l*=2;16E3>=l?setTimeout(function(){p=Date.now();e.load("/gp/product/features/apparel-main-image/360.html",k)},l):(m.count("dppc_asyncFailed360",f.mediaAsin),h.postCountMetric("dppc_asyncFailed360"),b.ajaxState(n,"fail"))};b.ajaxState(n)&&"fail"!==b.ajaxState(n)||(e.load("/gp/product/features/apparel-main-image/360.html",k),b.ajaxState(n,"sent"))}function M(){return f&&b.isDefined(f.spin360ConfigEnabled)&&
f.spin360ConfigEnabled}function L(a){return b.isDefinedAndNotEmpty(f.spin360ColorData[a])?!0:b.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled}function F(){ia&&(m.time("dppc_duration360",Date.now()-z,f.mediaAsin),h.postTimeMetric("dppc_duration360",Date.now()-z),ia=!1)}function O(a){a=f.colorToAsin[a.color]&&f.colorToAsin[a.color].asin;a||(a=f.mediaAsin);return a}var x,f,D,B,E,K,S,W,U,T,ca,da,V=!1,oa=!1,Y=0,ea=0,z=0,ba=0,ja=!1,X=!1,t=0,ka,la=!0,ia=!1,aa=!0,ga=c.once(function(){n.attachImmersiveViewResizeHandler(y);
n.attachImmersiveViewResizeHandler(l);n.attachImmersiveViewResetHandler(F);n.attachTabDeselectHandler("iv360Tab",F)});return function(d,e,k,l){x=this;f=d;D=e;B=l;d=f.landingAsinColor;e=f.defaultColor;b.isDefined(f.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",n.addStyleCodeToURL(f.staticImages.icon360,"_FMpng_RI_"));M()&&(f.spin360ColorData||(f.spin360ColorData={}),d===e&&b.isDefinedAndEmpty(f.spin360ColorData[e])&&delete f.spin360ColorData[e]);
c.on(q.TWISTER_DATA_EVENT,function(a){O(D.getCurrentItem())===a&&(K=g.getData(a),H(),a={type:"updatedData",data:D.getCurrentItem()},B.dispatch("updateView",a))});x.render=function(d,e,k,l,p,q){aa=!0;!M()||b.isDefinedAndEmpty(f.spin360ColorData[d])&&!g.getData(O(D.getCurrentItem()))?n.hideTabHeading("iv360TabHeading"):(f.spin360ColorData[d]=g.getData(O(D.getCurrentItem())),b.isDefinedAndNotEmpty(f.spin360ColorData[d])?(a("#ivThumbs360").hide(),n.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(f,
D.getCurrentItem().color)&&M()&&L(d)&&(e===f.maxAlts&&(d=l.find(".item.imageThumbnail"),e=l.find(".item.videoThumbnail"),b.isDefined(e)&&1<e.length?e.last().remove():d.last().remove()),d=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(d,"button-360-click"),l.append(d),m.count("dppc_display360",f.mediaAsin),h.postCountMetric("dppc_display360"))):b.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled?(f.spin360ColorData[d]=
{},n.hideTabHeading("iv360TabHeading"),A(l,e,d)):n.hideTabHeading("iv360TabHeading"))};x.update=function(a){};n.attachTabSelectHandler("iv360Tab",y)}});w.register("nexusLogger360",function(){return{count:function(c,a){r.ue&&r.ue.event({asin:a,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(c,a,b){r.ue&&r.ue.event({asin:b,metricName:c,metricValue:a},"hit-360","hit360.clientEvent.3")}}});w.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
w.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,a){var b={};return{setData:function(e){var m=e.asin;b[m]||(b[m]=e,c.trigger(a.TWISTER_DATA_EVENT,m))},getData:function(a){return b[a]}}});"use strict";w.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(c,a){w.register("vse_ns_preLoaderHook",function(){function b(e,m){try{var h=e.A,n=e.block,g=e.request,q=e.handleFailure,l=e.handleSuccess,r=h.$;m--;var w=3-m-1,G=h.now();h.ajax("/vap/ew/componentbuilder",
{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var b=h.now()-G;c.postTimeMetric("vse_preLoaderHook:success:",b);c.postCountMetric("vse_preLoaderHook:success:"+g.page+":"+g.placement+":"+w);r(n).html(a);l(h,g,a)},error:function(a){c.postCountMetric("vse_preLoaderHook:error:"+g.page+":"+g.placement+":"+w);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?b(e,m):(c.postCountMetric("vse_preLoaderHook:error:",
1),q(h,g,a))}})}catch(u){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",u)}}return{get:function(a,c,h,n,g){b({A:a,block:c,request:h,handleFailure:g,handleSuccess:n},3)}}});w.register("vse_ns_lazyLoaderHook",function(){function b(e,m,h){try{var n=e.A,g=e.context,q=e.handleFailure,l=e.handleSuccess;m.attr("data-configuration");var r=atob(m.attr("data-configuration")),w=JSON.parse(r),G={pageContext:g,configuration:w},u=n.now();h--;var C=3-h-1;n.ajax("/vap/ew/subcomponent/"+w.type,{params:G,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var b=n.now()-u;c.postTimeMetric("vse_lazyLoaderHook:success:",b);c.postCountMetric("vse_lazyLoaderHook:success:"+g.page+":"+g.placement+":"+w.type+":"+C);m.html(a);l(n,G,a)},error:function(a){c.postCountMetric("vse_lazyLoaderHook:error:"+g.page+":"+g.placement+":"+w.type+":"+C);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<h?b(e,m,h):(c.postCountMetric("vse_lazyLoaderHook:error:",
1),q(n,G,a))}})}catch(H){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",H)}}return{get:function(a,c,h,n,g){var q=a.$;q(c+" div[data-configuration]").each(function(){b({A:a,context:h,handleFailure:g,handleSuccess:n},q(this),3)})}}});w.register("vse_ns_videoPlayer",function(){function b(e,m,h){try{var n=e.A,g=e.block,q=e.request,l=e.handleFailure,r=e.handleSuccess,w=n.$;h--;var G=3-h-1,u=n.now();n.ajax("/vap/ew/subcomponent/vseplayer",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:q.timeout||5E3,withCredentials:!0,success:function(a){var b=n.now()-u;c.postTimeMetric("vse_lightPlayerLoaderHook:success:",b);c.postCountMetric("vse_lightPlayerLoaderHook:success:"+q.page+":"+q.placement+":"+G);w(g).html(a);r(n,q,a)},error:function(a){c.postCountMetric("vse_lightPlayerLoaderHook:error:"+q.page+":"+q.placement+":"+G);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<h?b(e,h):(c.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(n,q,a))}})}catch(C){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",C)}}return{get:function(a,c,h,n,g){b({A:a,block:c,request:h,handleFailure:g,handleSuccess:n},3)}}})});"use strict";w.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(c,a,b,e,m){var h=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=b.colorImages,c=0,q;for(q in a)a[q]&&a[q].length&&(c+=a[q].length);a="image_size_bucket:gt"+h[h.length-1];for(q=1;q<h.length;q++)if(c<=
h[q]){a="image_size_bucket:"+h[q-1]+"-"+h[q];break}m.postCountMetric(a);e.addTag(a)})();(function(){var b=a.colorImages;b&&b.initial&&b.initial.length&&(b=b.initial.length,r.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=b.lazyLoadExperienceDisabled;e.isDefined(b.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});w.when("A","get-resource-time","postMetric","afterLoad").execute(function(c,
a,b){var e=c.state("desktop-landing-image-data");e&&(e=c.values(e),a=a.getResourceTimeByName("img",e),c.each(a,function(a){a&&(a.responseEnd!=fa&&b.postCountMetric("ibDesktopLandingImageDownloadTime",r.parseInt(a.responseEnd)),a.transferSize!=fa&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",r.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});w.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",
function(c,a,b,e){function m(b,c){var e=a("\x3cimg src\x3d'"+(c?u.staticImages.shoppableSceneDotHighlighted:u.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:c?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(c?"active-tag":"inactive-tag");return e}function h(b){var e=a("\x3cspan\x3e");c.each(b.tags,function(b){var d=a("\x3cdiv\x3e").css({position:"absolute",left:100*b.left+"%",top:100*b.top+"%",height:"auto",width:"auto"});d.append(m(b,!1));d.append(m(b,!0));d.bind("mouseenter",
function(){n(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});c.declarative.create(d,"scenes-show-details-tags-ib",{tagId:b.link});e.append(d)});return e.children()}function n(a){a.addClass("mirai-scene-dot-pulsate");c.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function g(a,b){a.css({display:"none"});b.css({display:"inline-block"})}function q(a,b,c){a.eq(c).css({display:"inline-block"});b.eq(c).css({display:"none"})}function l(a){w.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",
function(){c.trigger("mirai:scene-details-change",{physicalId:a})})}function r(){var b=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),c=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",u.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");e.html(u.staticStrings.shoppableSceneViewProductsButton);return b.append(c).append(e)[0].outerHTML}function I(a){function b(){a.$tagPlaceholder.replaceWith(d);
var c=d.find(".mirai-scene-tag.active-tag"),g=d.find(".mirai-scene-tag.inactive-tag");q(c,g,0);n(d.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));H=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});y=!0;e.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var l=a.$viewProductsButton.find(".a-button-text");if(0===l.children().length){l.append(r());c.declarative.create(a.$viewProductsButton,
"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var d=h(a.shoppableScene),m=d.find(".mirai-scene-tag.active-tag"),k=d.find(".mirai-scene-tag.inactive-tag"),v=a.shoppableScene.physicalId,y=!1;c.on("mirai:index:change",function(a){a.scenePhysicalId===v&&(a=a.selectedIndices[0],g(m,k),q(m,k,a),n(d.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),H=!0)});c.on("mirai:scene-details-change",function(a){a.physicalId!==v||H||(g(m,k),q(m,k,0),n(d.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
H=!0)});c.on("mirai:no-products-active",function(a){a.scenePhysicalId===v&&g(m,k)});c.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===v&&(g(m,k),q(m,k,0))});c.on("a:image:load:shoppable-scene:"+a.index,function(){y||(b(),e.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});c.on("shoppable-scene-image-loaded",function(c){c.index!=a.index||y||(b(),e.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});w.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){c.trigger("mirai:scene-side-sheet-init",{icons:u.staticImages,strings:u.staticStrings});c.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var G,u,C,H=!1;return function(a,c,e,d){G=this;u=a;C=d;b.isShoppableScenesEnabled()?(C.register("initialize-shoppable-scene",I),G.render=function(a,b,c,d,e,g,h){},G.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?l(a.data.shoppableScene.physicalId):H=!1)}):(a=function(){},G.render=a,G.update=
a)}});w.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(h){var d=window.AmazonUIPageJS||window.P,k=d._namespace||d.attributeErrors,b=k?k("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,d,k){h.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,e,m,f,q,a){function d(g){g.interaction===k.MOUSE_ENTER&&
g.type===q.SHOWROOM_THUMBNAIL_TYPE&&f.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function c(c,b){var q=new Date;c.interaction=b.type;c.isUserGenerated=!0;if(e.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===b.type&&m.isDataValidForAsin(u(c))&&(d(c),r&&clearTimeout(r),r=setTimeout(function(){var a=m.getDataForAsin(u(c)).imageData;f.updateMainImage(g,a,t);f.showShowroomMainImage(g);p.usePeekHover||e.selectGivenThumbnail(b.$declarativeParent,
n)},e.getHoveringDelayTimer())),"mouseleave"===b.type&&r&&clearTimeout(r),"click"===b.type){if(m.isDataValidForAsin(u(c))){var l=m.getDataForAsin(u(c)).imageData;f.updateMainImage(g,l,t);f.showShowroomMainImage(g)}e.selectGivenThumbnail(b.$declarativeParent,n);e.useTabbedImmersiveView(p)&&f.handleShowroomThumbnailClick(b)}}else m.isDataValidForAsin(u(c))&&(d(c),l=m.getDataForAsin(u(c)).imageData,f.updateMainImage(g,l,t),f.showShowroomMainImage(g)),p.usePeekHover&&"click"!==b.type||(e.selectGivenThumbnail(b.$declarativeParent,
n),"click"===b.type&&e.useTabbedImmersiveView(p)&&f.handleShowroomThumbnailClick(b));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-q)}function u(a){a=p.colorToAsin[a.color].asin;a||(a=p.mediaAsin);return a}var h=void 0,p=void 0,l=void 0,t=void 0,n=void 0,g=void 0,x=void 0,r=void 0,v=void 0,k={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(d,y,r,z){r=new Date;h=this;p=d;l=y;t=z;b.on(q.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},t.dispatch("updateView",a))});h.render=function(c,e,q,d,h,r){c=new Date;n=d;g=h.find("#main-showroom-container");g.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var y=new Date,k=m.getDataForAsin(w);f.refresh(t,k.asin,k.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-y);if(!r){var B=new Date;f.updateMainImage(g,
k.imageData,t);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;e=f.createThumbnail(p,d,e,k.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==x){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(k.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);x=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-c);return e};h.update=function(b){var t=new Date;try{var n=b.data;l.setCurrentEvent(b);n.type===q.SHOWROOM_THUMBNAIL_TYPE?
c(n,b):n.type!==q.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===k.SWATCH_HOVER?n.color===l.getCurrentItem().color&&l.getCurrentItem().type===q.SHOWROOM_THUMBNAIL_TYPE?f.showShowroomMainImage(g):f.hideShowroomMainImage(g):e.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(n);f.hideShowroomMainImage(g)},e.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(n),
f.hideShowroomMainImage(g))):f.hideShowroomMainImage(g))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-t)};(d=document.getElementById("ivShowroomTabHeading"))&&d.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(x).defaultStageId;b=a.createShowroomAtfEvent(b,x,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-r)}});
"use strict";h.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_TEXT_T1:"showroom_dp_imageblock_atf_main_image_overlay_text_T1",MAIN_IMAGE_OVERLAY_TEXT_T2:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});
"use strict";h.when("A","jQuery","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,e,m,f,d,a){function q(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var n=a.createShowroomAtfEvent(p,h,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(n);c(b)}function c(a){a.action="showroomIngressClick";a.data=l;k.dispatch("showroomIngressClick",
a)}var h,k,p,l;return{createThumbnail:function(a,b,c,e){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:e.variant};m.createThumbnail({type:d.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:e.variant},e.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,c){var g=a.find("#showroom-main-image");g.length?g.attr("src",c.hiRes):(g=e(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
c.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),g.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],q),"T2"===f.getTreatment()?(g.addClass("t2"),c=a.find("#showroom-main-image-overlay-container-t2"),c.length||(c=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),g=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T2),c=e(('\x3cdiv id\x3d"showroom-main-image-overlay-container-t2"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
c+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
g+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()),c.appendTo(a))):(c=a.find("#showroom-main-image-overlay-container-t1"),c.length||(c=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T1),g=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_ICON_URL),c=e('                \x3cdiv id\x3d"showroom-main-image-overlay-container-t1"\x3e                    \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"'+
(g?g:"")+'"/\x3e                    \x3cdiv\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-text"\x3e'+c+"\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e                "),c.appendTo(a))))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return e("#showroom-outer-container").hasClass("aok-hidden")},
handleShowroomIngressClick:c,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var e=a.createShowroomAtfEvent(p,h,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(e);c(b)},handleShowroomMainImageClick:q,refresh:function(a,c,b){k=a;h=c;p=b}}});"use strict";h.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",
IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",
TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",
SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var e=(d.ue.count(b)||0)+1;d.ue.count(b,e)}}catch(f){}},logValue:function(b,m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(f){}},createShowroomAtfEvent:function(e,d,f,h){var a={};a.showroomId=e;a.asin=d;a.eventType=f;a.status=h;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?
"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";h.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function e(){return h[a]}function f(a){return a in h}var h={},a,k="T1";return{setData:function(c){c&&
c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,c.experimentTreatment&&(k=c.experimentTreatment),f(c.asin)||(h[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:e,getDataForAsin:function(a){return h[a]},getStringValue:function(a){return e().displayStrings?e().displayStrings[a]:""},getTreatment:function(){return k},isDataValidForAsin:f}})});
/* ******** */
(function(q){var u=window.AmazonUIPageJS||window.P,v=u._namespace||u.attributeErrors,a=v?v("DetailPagePaymentOptionsJavascript",""):u;a.guardFatal?a.guardFatal(q)(a,window):a.execute(function(){q(a,window)})})(function(q,u,v){"use strict";q.when("A","payment-options-constants").register("payment-options-client-side-metric",function(a,d){function b(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function g(h,a){if("undefined"!==typeof l&&"undefined"!==typeof l.count&&h){var b=
d.metricPrefix+h;l.count(b,(l.count(b)||0)+a);h=d.metricPrefix+h;"undefined"!==typeof u.csa&&(a=u.csa("Events",{producerId:"dp-rpcx"}),b=l.count(h),a("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:h,valueToLog:b},{ent:"all"}))}}function k(a){if(a)this.timerName=a,this.startTime=0;else throw Error("timerName must be non empty string");}var l=u.ue;k.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&g(this.timerName,Date.now()-
this.startTime)}};return{increment:function(a){g(a,1)},incrementWithValue:g,logNexusEventForMonthlyPaymentSelection:function(a){if(u.ue&&l.event){var c={};c.requestId=a.data.requestId;c.sessionId=a.data.sessionId;c.marketplaceId=a.data.marketplaceId;c.customerId=a.data.customerId;c.asin=a.data.asin;c.websiteDisplayGroup=a.data.websiteDisplayGroup;c.parentAsin=a.data.parentASIN;c.buyingOptionType=a.data.buyingOptionType;c.financingId=a.data.optionId;c.ranking=parseInt(a.data.executionInfo.offerRank);
c.isRender=!0;c.deviceType=a.data.deviceType;c.isUfoSwatchExpanded=!0;c.isOfferSelected=!0;c.isOfferAddedToCart=!1;c.isOfferUsedWithBuyNow=!1;c.schemaId=d.nexus.schemaId;c.producerId=d.nexus.producerId;c.messageId=b();l.event(c,d.nexus.producerId,d.nexus.schemaId,{ssd:!0})}},logNexusEventForSwatchExpansion:function(a){if(u.ue&&l.event){var c={};c.requestId=a.data.requestId;c.sessionId=a.data.sessionId;c.marketplaceId=a.data.marketplaceId;c.customerId=a.data.customerId;c.asin=a.data.asin;c.websiteDisplayGroup=
a.data.websiteDisplayGroup;c.parentAsin=a.data.parentASIN;c.buyingOptionType=a.data.buyingOptionType;c.financingId="undef";c.ranking=-1;c.isRender=!0;c.deviceType=a.data.deviceType;c.isUfoSwatchExpanded=!0;c.isOfferSelected=!1;c.isOfferAddedToCart=!1;c.isOfferUsedWithBuyNow=!1;c.schemaId=d.nexus.schemaId;c.producerId=d.nexus.producerId;c.messageId=b();l.event(c,d.nexus.producerId,d.nexus.schemaId,{ssd:!0})}},Timer:k}});"use strict";q.when("A","payment-options-constants","payment-options-expander-actions",
"payment-options-client-side-metric").register("multi-card-exp-payment-options",function(a,d,b,g){function k(){g.increment("Expander:Auto:Collapse");var d=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;b.collapsePaymentOptions(d);a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1}function l(){if(document.getElementById("payment-options-expander-header")){var b=JSON.parse(a.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));
b.isAutoExpand=!0;b.forceExpand=!0;a.trigger("a:declarative:expand-payment-options-expander",{data:b})}}return function(){var b=a.$(d.selector.multiCardExperimentElement).data(d.selector.multiCardExperimentData);if(!b||!b.treatment)return{};var c=a.$(d.selector.activeTPlusCards).val();if(!c||!c.length)return{};c=c.split(",");return{expTreatment:b.treatment,isFirstCard:c[0]===d.featureRegistration.featureName,collapseCard:k,autoExpandCard:l}}()});"use strict";q.when("A").register("payment-options-constants",
function(a){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.2"},validators:{itemType:"paymentOfferInfo",offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},
cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:"#payment-options-subtitle",cardImage:".payment-options-selected-card-image",
expanderIcon:".payment-options-expander-icon",toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",
unavailableOption:"payment-options-unavailable-option",unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",payPlanColumnSelector:".payment-plan-column-selector",
paymentDetailColumnSelector:".payment-details-column-selector",interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",
paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs"},comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",
skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",
learnMoreContentSelector:"#payment-options-learn-more-ajax",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",
paymentOptionsList:".payment-options-list",unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",
cardRewardHideClass:"payment-options-card-reward-hide",normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",
disabledPaymentOptionClass:"payment-option-disabled-column"},animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover"}});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric","multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(a,d,b,g,k,l,h){function c(a){return"string"===
typeof a}l=l.expTreatment;var t="T2"!==l&&"T3"!==l;d.registerFeature(b.featureRegistration,{init:function(a){},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===b.validators.itemType&&c(a.priceAndTermCountDisplayString)&&c(a.orderSummaryDisplayString)&&c(a.interestDisplayString)&&"number"===typeof a.price&&"number"===typeof a.interestAmount&&c(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var b=h.paymentOptionSelected.paymentOptionClickedFromSideSheet;
t&&!b&&(k.increment("Expander:Auto:Collapse"),b=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,g.collapsePaymentOptions(b),a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){a.$(b.selector.refreshToggle).removeClass("refresh-toggle");a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&a.$(b.selector.refreshCCText).removeClass("a-hidden")}})});
"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",function(a,d,b){function g(a){var f=h("form#buyNowCheckout");if(0<f.length){var c=f.find("input[name\x3d"+b.parameters.itemType+"]");a=a.executionInfo;a.cartType=b.parameters.cartTypes.buyNow;a=JSON.stringify(a);1>c.length?h("\x3cinput\x3e").attr({type:b.paymentOfferInputElement.inputType,name:b.paymentOfferInputElement.name,value:a,id:"bnMshopPaymentOfferInfo"}).appendTo(f):
(f=h("#bnMshopPaymentOfferInfo"),1<c.length?f.detach():f.val(a))}}function k(a){var b=a.executionInfo;b.sessionId=a.sessionId;b.customerId=a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup}function l(a,c){return{itemType:b.parameters.itemType,price:a.price,selectionType:b.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,
interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:"mo",formData:c}}var h=a.$,c=b.featureRegistration.featureName,t;return{updatePaymentOptionSelection:function(a){if(!a)return!1;d.ccSelectionsClear(c);clearTimeout(t);h("#bnMshopPaymentOfferInfo").detach();var f=[],r;if(a.hasOwnProperty("executionDetails")&&
0!==Object.keys(a.executionDetails).length){var x=a.executionDetails;Object.keys(x).forEach(function(c){if("paymentOfferInfoType"===c){var e=JSON.parse(a.executionDetails.paymentOfferInfoType);e.sessionId=a.sessionId;e.customerId=a.customerId;e.marketplaceId=a.marketplaceId;e.requestId=a.requestId;e.deviceType=a.deviceType;e.asin=a.asin;e.buyingOptionType=a.buyingOptionType;e.parentASIN=a.parentASIN;e.websiteDisplayGroup=a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=JSON.stringify(e);
f.push([{inputType:b.paymentOfferInputElement.inputType,inputName:b.paymentOfferInputElement.name,inputValue:JSON.parse(x[c])}])}else f.push([{inputType:b.paymentOfferInputElement.inputType,inputName:c,inputValue:x[c]}])});for(var y=0;y<f.length;y++)if(r=l(a,f[y]),r=d.ccSelectionUpdate(c,r),!r)return!1}else if(a.hasOwnProperty("executionInfo")&&0!==Object.keys(a.executionInfo).length)k(a),f.push([{inputType:b.paymentOfferInputElement.inputType,inputName:b.paymentOfferInputElement.name,inputValue:a.executionInfo}]),
r=l(a,f[0]),r=d.ccSelectionUpdate(c,r);else return!0;g(a);t=setTimeout(function(){g(a)},1E3);return r}}});"use strict";q.when("A","cc-payment-options").register("payment-options-actions",function(a,d){a.declarative("select-payment-option","click",function(a){d.updatePaymentOptionSelection(a.data)})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-options-swatch-actions").register("po-compare-plans-actions",
function(a,d,b,g,k,l){function h(){d.resetComparePlansState();f(b.comparePlansSelector.skeletonLoaderClass).addClass("aok-hidden");f(b.comparePlansSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function c(a,c){a=f(a);var d=b.comparePlansSelector.viewModelFailedSelector,h=b.comparePlansSelector.preselectiedOptionSelector,e=b.comparePlansSelector.paymentOptionsCountSelector,n=b.comparePlansSelector.firsOfferIdSelector,l=m();g.weblab.isModDesktopWeblabEnabled&&(d=d+"-"+l,h=h+"-"+l,e=e+
"-"+l,n=n+"-"+l);return 0!==a.filter(d).length?(k.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(h).length?(k.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(e).data("paymentPlansCount")!==c.numberOfPaymentOptions?(k.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(n).data("firstOfferId")!==c.firstOfferId?(k.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function t(c,h){f(b.comparePlansSelector.comparePlansSidesheetSelector).html(d.getComparePlansState("ajaxContent"));
if(g.weblab.isModDesktopWeblabEnabled){var k=b.comparePlansSelector.comparePlansContentSelector+"-"+m();f(k).removeClass("aok-hidden")}a.loadDescendantImagesManually(f(".payment-options-side-sheet-header"));a.loadDescendantImagesManually(f(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(f(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(f(".payment-options-comparison-sheet-comparison-card-option"));l.preRenderSelectedFinancingOption(c,
h)}function m(){return a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}var f=a.$;a.on("PageRefresh:ATF",function(){d.resetComparePlansState()});return{loadAjaxContent:function(g){var x=g.data.selectText,l=g.data.selectedText,m=f("#twister-plus-asin").val();if(null===m||""===m)k.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),h();else if(d.getComparePlansState("isAjaxContentLoaded")&&!d.checkInconsistentState())t(x,l);else{var e=new k.Timer("Ajax:Loading:Time");
e.start();f(b.comparePlansSelector.skeletonLoaderClass).removeClass("aok-hidden");f(b.comparePlansSelector.ajaxErrorMessageSelector).addClass("aok-hidden");a.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:m,showFeatures:"compareAllPlansSidesheetAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"},success:function(a){null===a||/^\s*$/.test(a)?(k.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),h()):c(a,g.data)?h():(d.setComparePlansState("ajaxContent",a),d.setComparePlansState("isAjaxContentLoaded",
!0),d.setComparePlansState("ajaxContentAsin",m),t(x,l),e.stop())},error:function(a,e){e===b.ajaxErrorReasons.timeoutStatus?k.incrementWithValue("Ajax:Failure:Timeout",1):k.incrementWithValue("Ajax:Failure",1);h()}})}}}});"use strict";q.when("A").register("po-sidesheet-ajax-state",function(a){var d=a.$,b={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},g={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(a){return b[a]},setComparePlansState:function(a,
d){b[a]=d},getLearnMoreState:function(a){return g[a]},setLearnMoreState:function(a,b){g[a]=b},checkInconsistentState:function(){if(b.isAjaxContentLoaded&&g.isAjaxContentLoaded){if(b.ajaxContentAsin!==g.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var a=d("#twister-plus-asin").val();if(b.ajaxContentAsin!==a)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");
this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin","")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent","");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";q.when("A","payment-options-state","po-compare-plans-actions").register("ufo-compare-payment-plans",function(a,d,b){a.declarative("compare-payment-plans","click",function(b){a.trigger("a:declarative:side-sheet:click",
b);d.weblab.isDesktopComparePlansAjaxEnabled&&a.trigger("a:declarative:compare-payment-plans-ajax:click",b)});a.declarative("compare-payment-plans-ajax","click",function(a){b.loadAjaxContent(a)})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-options-swatch-actions").register("po-learn-more-actions",function(a,d,b,g,k,l){function h(){d.resetLearnMoreState();f(b.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");
f(b.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function c(a,c){a=f(a);var d=b.learnMoreSelector.viewModelFailedSelector,h=b.learnMoreSelector.preselectiedOptionSelector,e=b.learnMoreSelector.paymentOptionsCountSelector,l=b.learnMoreSelector.firsOfferIdSelector,p=m();g.weblab.isModDesktopWeblabEnabled&&(d=d+"-"+p,h=h+"-"+p,e=e+"-"+p,l=l+"-"+p);return 0!==a.filter(d).length?(k.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(h).length?(k.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",
1),!0):a.filter(e).data("paymentPlansCount")!==c.numberOfPaymentOptions?(k.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(l).data("firstOfferId")!==c.firstOfferId?(k.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function t(c,h,k){f(b.learnMoreSelector.learnMoreSidesheetSelector).html(d.getLearnMoreState("ajaxContent"));k=b.learnMoreSelector.learnMoreContentSelector+"-"+k;g.weblab.isModDesktopWeblabEnabled&&(k+=m());f(k).removeClass("aok-hidden");a.loadDescendantImagesManually(f(".payment-options-side-sheet-header"));
a.loadDescendantImagesManually(f(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(f(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(f(".payment-options-comparison-sheet-comparison-card-option"));l.preRenderSelectedFinancingOption(c,h)}function m(){return a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}var f=a.$;a.on("PageRefresh:ATF",function(){d.resetLearnMoreState()});return{loadAjaxContent:function(g){var l=
g.data.selectText,m=g.data.selectedText,w=f("#twister-plus-asin").val();null===w||""===w?(k.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),h()):d.getLearnMoreState("isAjaxContentLoaded")&&!d.checkInconsistentState()?t(l,m,g.data.index):(f(b.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),f(b.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),a.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:w,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions",
experienceId:"paymentOptionsAjaxExperience"},success:function(a){null===a||/^\s*$/.test(a)?(k.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),h()):c(a,g.data)?h():(d.setLearnMoreState("ajaxContent",a),d.setLearnMoreState("isAjaxContentLoaded",!0),d.setLearnMoreState("ajaxContentAsin",w),t(l,m,g.data.index))},error:function(a,c){c===b.ajaxErrorReasons.timeoutStatus?k.incrementWithValue("Ajax:Failure:Timeout",1):k.incrementWithValue("Ajax:Failure",1);h()}}))},stopEventPropagation:function(a){a.$event.preventDefault();
a.$event.stopImmediatePropagation()}}});"use strict";q.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric","payment-options-swatch-actions").register("payment-options-learn-more-events",function(a,d,b,g,k){a.declarative("payment-options-learn-more","click",function(l){g.increment("SideSheet:Link:Click");b.stopEventPropagation(l);a.trigger("a:declarative:side-sheet:click",l);!l.data.isComparePlansEvent&&d.weblab.isDesktopLearnMoreAjaxEnabled?a.trigger("a:declarative:payment-options-learn-more-ajax:click",
l):k.preRenderSelectedFinancingOption(l.data.selectText,l.data.selectedText)});a.declarative("payment-options-learn-more-ajax","click",function(a){b.loadAjaxContent(a)})});"use strict";q.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(a,d,b,g,k){function l(a){if(f===v||null===f||null===a.data.isExpand||a.data.isExpand===v){if(null===a.data.isExpand||a.data.isExpand===v)c("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=
!1,a.data.isExpand=!1;d.initSubtitle(a);r&&d.hideLoaderAnimation(a.data.isExpand)}}function h(a){f=!0;var e=a.data.renderPreselection;b.autoScroll=!a.data.isAutoExpand;e||r?d.expandPaymentOptions(r,e):(x.isStarted||x.start(),d.expandSkeletonLoader(e));g.logNexusEventForSwatchExpansion(a)}var c=a.$,t=k.expTreatment,m=k.isFirstCard&&"T1"===t||"T2"===t||"T3"===t,f,r=b.isLoaded,x=new g.Timer("Desktop:Expander:Loading:UserWaiting:Time"),y=new g.Timer("Desktop:Expander:Loading:Time");y.start();q.when("cc-payment-options").execute(function(){y.stop();
x.isStarted&&x.stop();r=!0;d.hideLoaderAnimation(f);g.incrementWithValue("Container:Swatch:Amount",c(".payment-options-list-item").length)});a.declarative("toggle-payment-options-expander","click",function(b){l(b);f=b.data.isExpand;var e=b.data.renderPreselection;!0===f?(f=!1,g.increment("Desktop:Expander:Click:Collapse"),d.collapsePaymentOptions(e)):!1===f&&h(b);c("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=f;a.trigger("a:declarative:expander-update-visible-payment-options:click",
b)});a.declarative("expand-payment-options-expander",function(a){if(!t||a.data.forceExpand)l(a),h(a),c("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!0});m&&k.autoExpandCard()});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(a,d,b,g,k,l){function h(){if(d.autoScroll){var a=m(f.expanderContainer),
b=a.offset().top+a.outerHeight();if(m(u).scrollTop()+m(u).height()<b){var b=a.offset().top,c=m(u).height(),a=a.height(),a=b-(c-a)/2;m("html, body").animate({scrollTop:a},d.animationTimeoutUnit)}}}function c(a,c){a=a?r.monthlyPaymentOptionsExpandedSubtitle:c?r.monthlyPaymentOptionsExpandedSubtitle:r.loadingSubtitle;m(f.subtitleText).text(a);!1===c&&m(f.cardImage).fadeOut(b.animationTimeoutUnit)}function t(a){""!==r.monthlyPaymentOptionsCollapsedSubtitle&&m(f.subtitleText).text(r.monthlyPaymentOptionsCollapsedSubtitle);
!1===a&&m(f.cardImage).fadeIn(b.animationTimeoutUnit)}var m=a.$,f=b.selector,r=d.expanderSubtitle;return{initSubtitle:function(a){var b=a.data.expandSubtitle;r.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;r.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(d,k){g.increment("Desktop:Expander:Click:Expand");g.increment("Desktop:Expander:Click:Expand:loading");m(f.expanderContent).addClass(f.paymentOptionExpand);m(f.expanderIcon).addClass("rotate");l.cardExpanded(b.featureRegistration.featureName);
a.delay(function(){m(f.swatch).addClass(f.twisterPlusFadeIn);c(d,k);h()},b.animationTimeoutUnit);a.$(f.refreshToggle).hasClass("refresh-toggle")||a.$(f.refreshCCText).removeClass("a-hidden")},expandSkeletonLoader:function(d){g.increment("Desktop:Expander:Click:Expand");m(f.expanderContent).addClass(f.skeletonLoaderExpand);m(f.expanderIcon).addClass("rotate");a.delay(function(){d||(m(f.skeletonLoader).addClass(f.twisterPlusFadeIn),c(!1,d),h())},b.animationTimeoutUnit)},hideLoaderAnimation:function(d,
g){d&&m(f.skeletonLoader).removeClass(f.twisterPlusFadeIn);a.delay(function(){m(f.skeletonLoader).hide();m(f.swatch).removeClass("invisible");d&&(m(f.subtitleText).text(r.monthlyPaymentOptionsExpandedSubtitle),m(f.expanderContent).addClass(f.paymentOptionExpand),a.delay(function(){m(f.swatch).addClass(f.twisterPlusFadeIn);c(!0,g);h()},b.animationTimeoutUnit))},b.animationTimeoutUnit)},collapsePaymentOptions:function(c){m(f.swatch).removeClass(f.twisterPlusFadeIn);d.isLoaded||c||m(f.skeletonLoader).removeClass(f.twisterPlusFadeIn);
m(f.expanderIcon).removeClass("rotate");a.delay(function(){m(f.expanderContent).removeClass(f.paymentOptionExpand);m(f.expanderContent).removeClass(f.skeletonLoaderExpand);t(c)},b.animationTimeoutUnit);a.$(f.refreshCCText).hasClass("a-hidden")||a.$(f.refreshCCText).addClass("a-hidden")},showSubtitleInCollapsedView:t,showSubtitleInExpandedView:c,scrollToShowCompleteExpander:h}});"use strict";q.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants",
"payment-options-actions").register("payment-options-auto-expand",function(a,d,b,g,k){var l=!1,h=function(){var c=document.getElementById("payment-options-expander-header"),h=d.weblab.isAutoExpandWeblabInT1||d.weblab.isAutoExpandWeblabInT2;if(c){if(c=h)c=g.getRenderedFeaturesList(),h=c[0]===k.featureRegistration.featureName,c=1===c.length&&h;c&&(c=JSON.parse(a.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),c.isAutoExpand=!0,a.trigger("a:declarative:expand-payment-options-expander",
{data:c}),b.increment("Expander:AutoExpanded"),l=!0)}};h();a.on("a:pageUpdate",h);return{isAutoExpanded:l}});"use strict";q.when("A").register("payment-options-expander-state",function(a){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(a){this.property=a}}});"use strict";q.when("A","payment-options-swatch-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options").execute(function(a,d,b,g){var k=a.$,l=!g.expTreatment||"T3"===g.expTreatment;a.declarative("payment-options-otp-action","click",function(h){b.increment("Swatch:OneTimePayment:Click");a.trigger("a:declarative:select-payment-option:click",{data:{}});var c=k(h.$currentTarget);if(c!==v&&null!==c){d.updateSwatchStyle(c);d.updateDefaultOptionSubtitle(h.data.defaultPOSubtitle,h.data.oneTimePaymentPOSubtitle);var t=h.data.selectText,m=h.data.selectedText;"payment-options-list-item"===
k(h.$currentTarget[0].parentNode)[0].parentNode.className?d.updateSideSheetButtonsOnSwatchSelection(h.data.paymentOptionSelectButtonId,t,m):(b.increment("SideSheet:OneTimePayment:Click"),d.updateSelectedOptionSideSheetButton(c,t,m));l||g.collapseCard()}});a.declarative("payment-options-monthly-payment-action","click",function(h){h.data.hasOwnProperty("optionId")&&""!==h.data.optionId&&b.increment("Swatch:Financing:"+h.data.optionId+":Click");a.trigger("a:declarative:select-payment-option:click",h);
var c=k(h.$currentTarget);if(c!==v&&null!==c){d.updateSwatchStyle(c);d.updateFinancingOptionSubtitle(h.data.posubtitle,h.data.cardImageUrl);var t=h.data.selectText,m=h.data.selectedText;"payment-options-list-item"===k(h.$currentTarget[0].parentNode)[0].parentNode.className?d.updateSideSheetButtonsOnSwatchSelection(h.data.paymentOptionSelectButtonId,t,m):(h.data.hasOwnProperty("optionId")&&""!==h.data.optionId?b.increment("SideSheet:Financing:"+h.data.optionId+":Click"):b.increment("SideSheet:Financing:"+
h.data.executionInfo.offerType+":"+h.data.termType+":"+h.data.termCount+":Click"),d.updateSelectedOptionSideSheetButton(c,t,m));l||g.collapseCard();b.logNexusEventForMonthlyPaymentSelection(h)}});a.declarative("payment-options-overflow","click",function(a){d.manageOverflow(a)});a.declarative("overflow-sidesheet","click",function(b){var c=k(b.$currentTarget);c===v||null===c||k("#"+b.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||(a.trigger("a:declarative:payment-options-monthly-payment-action:click",
b),a.trigger("a:declarative:payment-options-overflow:click",b))});a.declarative("expander-update-visible-payment-options","click",function(a){var b=k(a.$currentTarget);b!==v&&null!==b&&d.resetOverflowDefaultOptions(a)})});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(a,d,b,g){function k(a){var b=[n.payPlanColumnSelector,n.paymentDetailColumnSelector,n.interestColumnSelector,n.payPlanAplliesSelector,
n.cardRewardColumnSelector];e(n.sideSheetButton).removeClass(n.selectedButton);e(n.sideSheetButton).addClass(n.unselectedButton);e(n.sideSheetButton).text(a);e(n.oneTimePaymentHeadButton).removeClass(n.selectedButton);e(n.oneTimePaymentHeadButton).addClass(n.unselectedButton);e(n.oneTimePaymentHeadButton).text(a);for(a=0;a<b.length;a++)e(b[a]).removeClass(p.colBottomBorder),e(b[a]).removeClass(p.colTopBorder),e(b[a]).removeClass(p.colLeftRightBorder),e(b[a]).addClass(p.normalLeftBorder),e(b[a]).addClass(p.normalRightBorder)}
function l(a){e(n.swatchOption).removeClass(n.selectedOption);e("#"+a+"Swatch").addClass(n.selectedOption)}function h(a,b,d){k(b);c(a);e(function(){e("[id\x3d"+a+"]").removeClass(n.unselectedButton);e("[id\x3d"+a+"]").addClass(n.selectedButton);e("[id\x3d"+a+"]").children(0).children(0).text(d);e("[id\x3d"+a+"]").text(d)})}function c(a){var b=["PaymentPlan","paymentDetails","interest","payPlanApplies","cardReward"],c;if("oneTimePaymentOption"!==a&&(a=e("#"+a).parent().parent().parent().attr("id"),
a!==v)){var d=a.match(/\d+/g)[0],f=parseInt(d)-1,h=parseInt(d)+1;e("[id\x3dcardReward"+d+"]").parent().hasClass(p.cardRewardHideClass)&&b.pop();c=b.length;for(var g=0;g<c;g++){a=b[g]+d;var k=g,l=a,m=c;0===k&&e("[id\x3d"+l+"]").addClass(p.colTopBorder);k===m-1&&e("[id\x3d"+l+"]").addClass(p.colBottomBorder);e("[id\x3d"+l+"]").addClass(p.colLeftRightBorder);e("[id\x3d"+a+"]").removeClass(p.normalRightBorder);e("[id\x3d"+a+"]").removeClass(p.normalLeftBorder);a=b[g]+f;e("[id\x3d"+a+"]").removeClass(p.normalRightBorder);
a=b[g]+h;e("[id\x3d"+a+"]").removeClass(p.normalLeftBorder)}}}function t(a,c){for(var d=c;d<a;d++)m(d,"disable"),f(r(d,"disable"),c);e("[id\x3d"+b.popOverText+a+"cell]").addClass(p.popOverShowClass);e("[id\x3d"+b.popOverText+a+"cell]").removeClass(p.popOverHideClass)}function m(a,b){for(var c="cardTitle cardSupplement interestAmount monthlyPaymentInfo cardRewardText offerLevelText titleSupplement monthlyPaymentTermCount interestApr".split(" "),d=["cardImage","offerLevelImage","cardRewardImage"],f=
0;f<c.length;f++){var h=c[f],g=a,k=b,k=parseInt(r(parseInt(g),k)),l=e("#"+h+k).text();e("#"+h+k).text(e("#"+h+g).text());e("#"+h+g).text(l)}for(f=0;f<d.length;f++)c=d[f],h=a,g=b,g=parseInt(r(parseInt(h),g)),e("#"+c+g)&&e("#"+c+g)[0]&&e("#"+c+g)[0].src&&(k=e("#"+c+g)[0].src,e("#"+c+g)[0].src=e("#"+c+h)[0].src,e("#"+c+h)[0].src=k,k=e("#"+c+g).attr("class"),e("#"+c+g).attr("class",e("#"+c+h).attr("class")),e("#"+c+h).attr("class",k),k=e("#"+c+g).attr("alt"),e("#"+c+g).attr("alt",e("#"+c+h).attr("alt")),
e("#"+c+h).attr("alt",k))}function f(a,b){for(var c=["monthlyPaymentOption","popover","learnMore"],d=c[0],g=["data-overflow-sidesheet","data-csa-c-id"],f=0;f<g.length;f++){var h=e("#"+d+a).parent().attr(g[f]);e("#"+d+a).parent().attr(g[f],e("#"+d+b).parent().attr(g[f]));e("#"+d+b).parent().attr(g[f],h)}d=c[1];g=["data-a-popover","data-csa-c-id"];for(f=0;f<g.length;f++)h=e("#"+d+a).children().attr(g[f]),e("#"+d+a).children().attr(g[f],e("#"+d+b).children().attr(g[f])),e("#"+d+b).children().attr(g[f],
h);d=c[2];g=["data-payment-options-learn-more","data-csa-c-id"];for(f=0;f<g.length;f++)h=e("#"+d+a).children().children().attr(g[f]),e("#"+d+a).children().children().attr(g[f],e("#"+d+b).children().children().attr(g[f])),e("#"+d+b).children().children().attr(g[f],h);for(d=0;d<c.length;d++)g=e("#"+c[d]+a).attr("id"),e("#"+c[d]+a).attr("id",e("#"+c[d]+b).attr("id")),e("#"+c[d]+b).attr("id",g)}function r(a,b){return"disable"===b?a+1:a-1}function x(a,b){for(;a>b;a--)m(a,"enable"),f(b,a)}function q(a){a.addClass(p.hideSwatchMainViewClass)}
function w(a,b){a.removeClass(p.hideSwatchMainViewClass);l(b);g.paymentOptionSelected.paymentOptionSelectedButtonId=b;g.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var e=a.$,n=b.selector,p=b.classes,u=d.expanderSubtitle;return{updateSwatchStyle:function(a){e(n.swatchOption).removeClass(n.selectedOption);a.find(n.swatchOption).addClass(n.selectedOption)},updateDefaultOptionSubtitle:function(a,b){u.monthlyPaymentOptionsCollapsedSubtitle=a;u.monthlyPaymentOptionsExpandedSubtitle=b;e(n.subtitleText).text(b);
e(n.subtitle).removeClass("a-color-success");e(n.subtitle).addClass("a-color-tertiary");e(n.checkmark).addClass("a-hidden");e(n.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){u.monthlyPaymentOptionsCollapsedSubtitle=a;u.monthlyPaymentOptionsExpandedSubtitle=a;e(n.subtitleText).text(a);e(n.subtitle).removeClass("a-color-tertiary");e(n.subtitle).addClass("a-color-success");e(n.checkmark).removeClass("a-hidden");
e(n.cardImage).attr("src",b)},updateSelectedOptionSideSheetButton:function(a,b,c){g.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0;a=a.find(n.sideSheetButton)[0].id;g.paymentOptionSelected.paymentOptionSelectedButtonId=a;h(a,b,c);l(a)},preRenderSelectedFinancingOption:function(a,b){h(g.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)},updateSideSheetButtonsOnSwatchSelection:function(a,b,c){g.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1;g.paymentOptionSelected.paymentOptionSelectedButtonId=
a;h(g.paymentOptionSelected.paymentOptionSelectedButtonId,b,c)},disableSwatch:function(a){var b=a.find(n.financingOptions);b.removeClass(n.selectedOption);b.addClass(n.unavailableOption);a.addClass(n.disabledSwatch)},enableSwatch:function(a){a.find(n.financingOptions).removeClass(n.unavailableOption);a.removeClass(n.disabledSwatch)},manageOverflow:function(a){g.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.unAvailableMsg;var b=e("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();
if(b.hasClass(p.hideSwatchMainViewClass)){for(var c=e(p.paymentOptionsList)[0].children,d="",f=c.length-2;0<=f;f--)if(!e(c[f]).hasClass(p.hideSwatchMainViewClass)){d=e(c[f]);break}q(d);w(b,a.data.paymentOptionSelectButtonId)}else l(a.data.paymentOptionSelectButtonId),g.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,g.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0},hideLastSwatch:q,unhideCorrespondingSwatch:w,resetOverflowDefaultOptions:function(a){if(!(3>=
parseInt(a.data.numberOfPaymentOptions))){var b=e(p.paymentOptionsList)[0].children;a="";for(var c=b.length-2;0<=c;c--)if(!e(b[c]).hasClass(p.hideSwatchMainViewClass)){a=e(b[c]);break}b=e(e(e(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(n.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(q(a),e("#monthlyPaymentOption3Swatch").parent().parent().parent().removeClass(p.hideSwatchMainViewClass))}},disableOptionInCompareAllPlans:function(a){g.paymentOptionSelected.paymentOptionUnAvailableMsg=
a.data.paymentOptionUnAvailableMsg;var c=a.data.numberOfPaymentOptions,d=a.data.disabledPaymentOptionId;d&&""!==d&&(g.paymentOptionSelected.paymentOptionDisabledButtonId=d,a=d.match(/\d+/g)[0],g.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=e("#"+b.disabledPaymentOptionSelecter+a).text(),t(c,parseInt(a)),e("#"+b.disabledPaymentOptionSelecter+c).text("("+g.paymentOptionSelected.paymentOptionUnAvailableMsg+")"),c=d.match(/^[a-zA-Z]*/)[0]+c,e("."+(c+"Column")).addClass(p.unavailableCompareAllPlansOption),
e(function(){e("[id\x3d"+d+"]").addClass(p.auiDisabledButtonClass);e("[id\x3d"+d+"]").removeClass(p.auiEnabledButtonClass)}))},enableOptionInCompareAllPlans:function(a){var c=g.paymentOptionSelected.paymentOptionDisabledButtonId;if(c&&""!==c){e("."+("monthlyPaymentOption"+a+"Column")).removeClass(p.unavailableCompareAllPlansOption);e(function(){e("[id\x3d"+c+"]").removeClass(p.auiDisabledButtonClass);e("[id\x3d"+c+"]").addClass(p.auiEnabledButtonClass)});var d=c.match(/\d+/g)[0];g.paymentOptionSelected.paymentOptionDisabledButtonId=
"";x(a,parseInt(d));e("#"+b.disabledPaymentOptionSelecter+d).text(g.paymentOptionSelected.paymentOptionDisabledTitleSuppliment);g.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="";e("[id\x3d"+b.popOverText+a+"cell]").addClass(p.popOverHideClass);e("[id\x3d"+b.popOverText+a+"cell]").removeClass(p.popOverShowClass)}}}});"use strict";q.when("A").register("payment-plan-state",function(a){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,
paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(a){this.property=a}}});"use strict";q.when("A","cc-payment-options","payment-options-client-side-metric").execute(function(a,d,b){a.declarative("payment-options-emp-action","change",function(a){d.updatePaymentOptionSelection(a.data)});var g=a.debounce(function(){var d=a.$,g=d("#PaymentOptionsEmpAction");0<g.length&&g.trigger("change");0<d("#monthly-payments-not-applicable").length&&
b.increment("Container:Render:Error");0<d(".payment-options-container").length&&b.increment("Container:Render:Success")},100);g();a.on("a:pageUpdate",g)});"use strict";q.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(a,d,b,g){var k=a.$;d=new d.Timer("Expander:Loading:Images:Time");d.start();b=function(){a.loadDescendantImagesManually(k(".payment-options-financing-option-card-image"));a.loadDescendantImagesManually(k(".payment-options-expander-heading-image-container"));
a.loadDescendantImagesManually(k(".payment-option-detailed-feature-scroll"));a.loadDescendantImagesManually(k(".payment-options-side-sheet-header"));a.loadDescendantImagesManually(k(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(k(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(k(".payment-options-comparison-sheet-comparison-card-option"))};b();a.on("a:pageUpdate",b);d.stop()});"use strict";q.when("A","payment-options-swatch-actions",
"payment-options-constants","payment-options-state","cc-manager").execute(function(a,d,b,g,k){function l(a){var c=a.executionInfo;c.cartType=b.parameters.cartTypes.addToCart;return{itemType:b.parameters.itemType,price:a.price,selectionType:b.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,
isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,displayQuantityMessage:!0,formData:[{inputType:b.paymentOfferInputElement.inputType,inputName:b.paymentOfferInputElement.name,inputValue:c}]}}var h=a.$,c=b.selector,q=b.featureRegistration.featureName,m,f=h("#oneTimePaymentOptionSwatch"),r=h(".payment-options-list-item");a.on("a:dropdown:selected:quantity",function(u){u=u.value;for(var v=a.$(b.classSelector+
c.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(c.monthlyPaymentAction),w=1;w<r.length;w++){var e=r.eq(w).find("span.a-declarative").data(c.monthlyPaymentAction),n=e.maxQuantity;n&&(u>n?(d.disableSwatch(r.eq(w)),n={data:{paymentOptionUnAvailableMsg:e.unAvailableText,numberOfPaymentOptions:e.numberOfPaymentOptions,disabledPaymentOptionId:e.paymentOptionSelectButtonId}},g.weblab.isComparePlansRefactorWeblabInT1?a.trigger("a:declarative:compare-payment-plans-disable:click",
n):d.disableOptionInCompareAllPlans(n),v&&e.offerGroup===v.offerGroup&&(h(f).click(),k.ccRemovedSelectionUpdate(q,l(e)),m=e.offerGroup)):(d.enableSwatch(r.eq(w)),g.weblab.isComparePlansRefactorWeblabInT1?a.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:e.paymentOptionSelectButtonId}}):d.enableOptionInCompareAllPlans(e.numberOfPaymentOptions),m&&e.offerGroup===m&&(h(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&
a.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:r.eq(w).find("span.a-declarative"),data:e}),k.ccRemovedSelectionsClear(q))))}})});"use strict";q.when("A","payment-options-constants").register("payment-options-state",function(a,d){a=a.$;d=(d=a(d.selector.paymentOptionsWeblabs).attr(d.selector.paymentOptionsWeblabsAttribute))?JSON.parse(d):{};return{weblab:d}})});
/* ******** */
